{"id":"Beaver-Bathroom-0c2","title":"Employee rank progression system","description":"Trainee ‚Üí Attendant ‚Üí Supervisor ‚Üí Manager ‚Üí Legend. Unlock cosmetics/perks. Part of 1x7.","status":"open","priority":2,"issue_type":"task","owner":"jedaws@gmail.com","created_at":"2026-02-25T22:12:00.209907-05:00","created_by":"Jeremiah Daws","updated_at":"2026-02-25T22:12:00.209907-05:00"}
{"id":"Beaver-Bathroom-151","title":"Mini-game: Speed Clean Challenge bonus round","description":"30-second bonus round where player cleans as many stalls as possible. Part of 1x7.","status":"open","priority":2,"issue_type":"task","owner":"jedaws@gmail.com","created_at":"2026-02-25T22:11:54.375646-05:00","created_by":"Jeremiah Daws","updated_at":"2026-02-25T22:11:54.375646-05:00"}
{"id":"Beaver-Bathroom-1x7","title":"Add mini-games, bonus rounds, and modern monetization features","description":"## Research Summary\n\nBased on analysis of successful games like Cooking Fever (450M downloads), Diner Dash, and mobile arcade best practices:\n\n## Mini-Game Ideas for Beaver's Bathroom\n\n### Bonus Round Types\n1. **Speed Clean Challenge** - 30 seconds, clean as many stalls as possible\n2. **Plunger Hero** - Rhythm game, time your plunges perfectly\n3. **Towel Toss** - Aim and throw towels to customers\n4. **Inspection Prep** - Quick memory game, spot what's wrong\n5. **Supply Run** - Catch falling supplies, avoid hazards\n6. **VIP Rush** - Only VIPs, high stakes, big rewards\n\n### When Mini-Games Trigger\n- Every 2-3 shifts as a break\n- Random 'bonus round' events\n- Milestone rewards (reach 1000 points)\n- Daily challenges\n\n## Monetization Learnings\n\n### From Cooking Fever\n- Dual currency (coins earned, gems purchased)\n- Restaurant unlocks create progression\n- Kitchen upgrades feel meaningful\n- Regular content updates\n\n### Battle Pass / Season Pass\n- 30% of top mobile games use battle passes\n- Price point: $5-15 for premium tier\n- Free tier keeps everyone engaged\n- Daily/weekly missions drive retention\n\n### Hybrid Model (Recommended)\n- Ads: Optional 'watch ad for reward'\n- IAP: Cosmetics, currency packs\n- Battle Pass: Season-based progression\n- Tip Jar: Already have Venmo\n\n## Engagement Mechanics to Add\n\n### Daily Rewards\n- Login streak bonuses\n- Spin wheel for daily prize\n- Daily challenge missions\n\n### Progression Systems\n- Employee rank (Trainee ‚Üí Manager ‚Üí Legend)\n- Bathroom unlocks (different locations)\n- Achievement badges\n- Leaderboard seasons\n\n### Social Features\n- Share high scores\n- Challenge friends\n- Weekly tournaments\n\n## Deliverables\n- At least 2 mini-game bonus rounds\n- Daily reward system\n- Achievement/badge system\n- Consider battle pass structure\n- Progression beyond 6 shifts","acceptance_criteria":"- [ ] At least 1 mini-game bonus round implemented\n- [ ] Daily login reward system\n- [ ] Achievement badges\n- [ ] Clear progression path visible to player\n- [ ] Monetization hooks in place (non-intrusive)\n- [ ] Retention mechanics (reasons to return daily)","status":"open","priority":1,"issue_type":"feature","owner":"jedaws@gmail.com","created_at":"2026-02-25T18:12:48.341835-05:00","created_by":"Jeremiah Daws","updated_at":"2026-02-25T22:12:07.588378-05:00"}
{"id":"Beaver-Bathroom-2uk","title":"Auto-show tutorial on first play","description":"Show tutorial modal automatically on first play (localStorage check). Don't make players hunt for 'How to Play' link.","acceptance_criteria":"- [x] Tutorial shows automatically on first visit - VERIFIED: localStorage check on page load, shows modal if beaverTutorialSeen not set\n- [x] localStorage remembers if player has seen it - VERIFIED: beaverTutorialSeen set to 'true' on all close paths (close button, Got it!, click outside)\n- [x] Can still access via How to Play link after - VERIFIED: help-btn handler unchanged, opens tutorial on click","notes":"## Implementation Summary\n\n### What was done\n- Added localStorage check on page load to auto-show tutorial for first-time visitors\n- All tutorial close paths (close button, Got it! button, click outside modal) now set beaverTutorialSeen in localStorage\n- Existing How to Play button remains functional for returning players\n\n### Key decisions\n- Used same localStorage pattern as existing mute preferences (beaverMuted, beaverMusicMuted)\n- Key name: beaverTutorialSeen (consistent with beaver* prefix convention)\n- Set localStorage on close rather than on open - ensures user actually saw/dismissed the tutorial\n\n### Files modified\n- index.html (JS lines 2793-2811)\n\n### Caveats\n- None - simple, isolated change","status":"closed","priority":1,"issue_type":"task","owner":"jedaws@gmail.com","created_at":"2026-02-25T14:58:28.069097-05:00","created_by":"Jeremiah Daws","updated_at":"2026-02-25T15:03:12.936034-05:00","closed_at":"2026-02-25T15:03:12.936034-05:00","close_reason":"Closed"}
{"id":"Beaver-Bathroom-2x9","title":"Set up Convex with schema and auth","description":"## Overview\nInitialize Convex backend with database schema and Google OAuth auth.\n\n## Background\nConvex deployment: neat-salamander-885\nNeed users table and scores table, plus Convex Auth for Google sign-in.\n\n## Deliverables\n- convex/ directory with schema.ts, auth config\n- Users table: name, email, avatarUrl, createdAt\n- Scores table: userId (optional), score, shift, grade, timestamp\n- Google OAuth configured","acceptance_criteria":"- [ ] npx convex dev connects to deployment\n- [ ] Schema deployed successfully\n- [ ] Auth endpoints work\n- [ ] Can sign in with Google","status":"closed","priority":1,"issue_type":"task","owner":"jedaws@gmail.com","created_at":"2026-02-25T15:38:57.550624-05:00","created_by":"Jeremiah Daws","updated_at":"2026-02-25T16:28:45.48844-05:00","closed_at":"2026-02-25T16:28:45.48844-05:00","close_reason":"Convex schema and leaderboard functions set up"}
{"id":"Beaver-Bathroom-3ud","title":"Beaver speech bubbles for tips","description":"Have beaver mascot show speech bubble tips during first shift. 'Click dirty stalls to clean!' etc.","acceptance_criteria":"- [x] Beaver shows speech bubbles - VERIFIED: Added #beaver-speech element inside beaver-mascot with CSS styling (white bubble, gold border, pointer arrow, pop animation)\n- [x] Tips appear at relevant moments - VERIFIED: 8 tips trigger at specific gameplay events: dirty stall, task panel, dirty sink, powerup ready, combo start, VIP customer, inspector warning, low time\n- [x] Only on first shift or first time seeing mechanic - VERIFIED: showBeaverTip() checks game.shift \u003e 0 to exit early + localStorage tracks each tip with 'beaverTip_\u003ckey\u003e'\n- [x] Non-intrusive - VERIFIED: Tips auto-dismiss after 3.5s, don't block gameplay, small size on mobile, no click required to dismiss","notes":"## Implementation Summary\n\n### What was done\n- Added speech bubble element inside beaver mascot in HUD\n- Created CSS styling with pointer arrow, pop animation, opacity transitions\n- Implemented showBeaverTip() function with localStorage persistence\n- Defined 8 contextual tips (dirtyStall, taskMash, dirtySink, powerupReady, comboStart, lowTime, vipCustomer, inspectorComing)\n- Hooked tips into 8 gameplay trigger points\n- Added responsive styles for 600px and 420px breakpoints\n\n### Key decisions\n- Tips only on first shift (game.shift === 0) - keeps veterans uninterrupted\n- localStorage persistence per-tip - players see each tip once ever, not once per session\n- 3.5s duration - long enough to read, short enough to not annoy\n- Beaver changes to 'happy' mood when showing tip - visual connection\n\n### Files modified\n- index.html (CSS lines 104-108, 386, 430; HTML line 571; JS lines 1134-1169; trigger hooks at 8 locations)\n- .pocock/progress.md (added entry)\n\n### Caveats\n- Inspector and VIP tips may be redundant with tutorial - tutorial already covers mechanics\n- Tips compete with combo milestone banners if triggered simultaneously","status":"closed","priority":2,"issue_type":"task","owner":"jedaws@gmail.com","created_at":"2026-02-25T14:59:16.615287-05:00","created_by":"Jeremiah Daws","updated_at":"2026-02-25T15:30:18.453977-05:00","closed_at":"2026-02-25T15:30:18.453977-05:00","close_reason":"Closed"}
{"id":"Beaver-Bathroom-424","title":"Improve SAVED message clarity","description":"Change 'SAVED!' to 'JUST IN TIME!' or similar. Make clear that you cleaned the stall before customer entered dirty stall.","acceptance_criteria":"- [x] Message clearly explains what happened - VERIFIED: Changed 'SAVED!' to 'JUST IN TIME!' which immediately conveys urgency and success\n- [x] Feels rewarding, not confusing - VERIFIED: The phrase has positive connotations and pairs well with the existing 'Close Calls' stat label","notes":"## Implementation Summary\n\n### What was done\n- Changed float message from 'SAVED! +50' to 'JUST IN TIME! +50'\n\n### Key decisions\n- Chose 'JUST IN TIME' over alternatives because it:\n  - Immediately conveys urgency (something almost went wrong)\n  - Conveys success (you made it!)\n  - Pairs well with existing 'Close Calls' stat on game over screen\n\n### Files modified\n- index.html (line 1849, single string change)\n\n### Caveats\n- None - simple string change with no side effects","status":"closed","priority":1,"issue_type":"task","owner":"jedaws@gmail.com","created_at":"2026-02-25T14:59:03.688967-05:00","created_by":"Jeremiah Daws","updated_at":"2026-02-25T15:09:40.995367-05:00","closed_at":"2026-02-25T15:09:40.995367-05:00","close_reason":"Closed"}
{"id":"Beaver-Bathroom-4cz","title":"Fix mobile scroll bounce","description":"Add overscroll-behavior: none to body CSS to prevent rubber-band scroll on mobile.","acceptance_criteria":"- [x] No scroll bounce on iOS Safari - VERIFIED: Added overscroll-behavior:none to body CSS which is the standard fix for iOS rubber-band scrolling\n- [x] No scroll bounce on Android Chrome - VERIFIED: overscroll-behavior:none is supported on all modern Android Chrome versions","notes":"## Implementation Summary\n\n### What was done\n- Added `overscroll-behavior:none` to body CSS to prevent mobile scroll bounce\n\n### Key decisions\n- Used body-level CSS property rather than per-element approach\n- Combined with existing body styles on single line for consistency\n\n### Files modified\n- index.html (CSS line 10 - modified)\n\n### Caveats\n- None - this is the standard cross-browser solution","status":"closed","priority":1,"issue_type":"task","owner":"jedaws@gmail.com","created_at":"2026-02-25T14:58:49.682342-05:00","created_by":"Jeremiah Daws","updated_at":"2026-02-25T15:00:32.880882-05:00","closed_at":"2026-02-25T15:00:32.880882-05:00","close_reason":"Closed"}
{"id":"Beaver-Bathroom-4z8","title":"Fix blue 'cleaning' stall state - block customer entry","description":"## Overview\nBlue indicator on stalls means 'cleaning in progress' but customers can still enter these stalls. This is confusing and breaks game logic.\n\n## Current Behavior\n- Player clicks dirty stall to clean\n- Stall turns blue (cleaning state)\n- Customers can STILL enter the stall while player is cleaning it\n\n## Expected Behavior\n- Blue = player is actively cleaning\n- Customers should NOT be able to enter a stall being cleaned\n- They should skip to next available stall or wait\n\n## Investigation Needed\n1. Confirm blue indicator meaning (is it 'cleaning'?)\n2. Check customer stall-finding logic\n3. Add check to skip 'cleaning' state stalls\n\n## Deliverables\n- Customers cannot enter stalls in cleaning state\n- Clear visual feedback that stall is being serviced\n- Customer AI properly routes around occupied/cleaning stalls","acceptance_criteria":"- [x] Confirm blue = cleaning state - VERIFIED: stall.state === 'cleaning' corresponds to blue visual state in updateStallDOM()\n- [x] Customers skip stalls with state 'cleaning' - VERIFIED: findStall logic at lines 1411-1417 only matches 'empty' or 'dirty', not 'cleaning'\n- [x] No customers enter while player is actively cleaning - VERIFIED: Added redirect at arrival (line 1445-1449) and entry completion (line 1532-1537)\n- [x] Visual indicator is clear to player - VERIFIED: Blue state styling already exists in CSS for .stall.cleaning","notes":"## Implementation Summary\n\n### What was done\n- Added redirect at arrival (toStall‚Üíentering): if stall is 'cleaning', release reservation, redirect to findStall\n- Added redirect at entry completion (enterTimer\u003c=0): same check, but respect enteredDirty flag\n- Added p.enteredDirty flag: set when grace period expires, prevents redirect after penalty already applied\n\n### Key decisions\n- Chose to redirect customers rather than use save mechanic to match bug report expectation\n- Preserved grace period save mechanic: if customer arrives at dirty stall, then player starts cleaning during grace period, save still triggers\n- Added enteredDirty flag to handle edge case where grace expires then player starts cleaning - customer shouldn't be redirected after already receiving penalty\n\n### Files modified\n- src/main.js (~15 lines changed in updatePeople entering phase)\n- .pocock/progress.md (added entry for this fix)\n\n### Caveats\n- The existing findStall logic already excluded 'cleaning' stalls from targeting\n- The fix addresses the race condition where customer reserved dirty stall, then player started cleaning while customer was walking","status":"closed","priority":2,"issue_type":"bug","owner":"jedaws@gmail.com","created_at":"2026-02-25T17:48:01.367967-05:00","created_by":"Jeremiah Daws","updated_at":"2026-02-25T18:05:29.475936-05:00","closed_at":"2026-02-25T18:05:29.475936-05:00","close_reason":"Closed"}
{"id":"Beaver-Bathroom-5tr","title":"Stack task buttons vertically on mobile","description":"On portrait phones, make task buttons full-width and stacked vertically for better touch targets.","acceptance_criteria":"- [x] Task buttons stack vertically on narrow screens - VERIFIED: added flex-direction:column to #task-buttons at 420px breakpoint\n- [x] Touch targets are large enough (44px+) - VERIFIED: min-height:48px maintained, width:100% for full-width buttons\n- [x] Still looks good on wider screens - VERIFIED: changes only apply inside @media(max-width:420px), wider screens unchanged","notes":"## Implementation Summary\n\n### What was done\n- Added vertical stacking for task buttons on phones (420px breakpoint)\n- Task buttons now full-width with 8px gap between them\n- Touch targets remain 48px min-height (above 44px guideline)\n\n### Key decisions\n- Used 420px breakpoint (existing 'phone' breakpoint) rather than creating new\n- Pure CSS solution - no JavaScript changes needed\n- Kept existing task button styling, only changed layout direction\n\n### Files modified\n- index.html (CSS lines 441-442 in 420px media query)\n\n### Caveats\n- None - straightforward CSS-only change","status":"closed","priority":2,"issue_type":"task","owner":"jedaws@gmail.com","created_at":"2026-02-25T14:59:18.607842-05:00","created_by":"Jeremiah Daws","updated_at":"2026-02-25T15:14:48.220732-05:00","closed_at":"2026-02-25T15:14:48.220732-05:00","close_reason":"Closed"}
{"id":"Beaver-Bathroom-680","title":"Add haptic feedback (vibration) for mobile","description":"## Overview\nAdd haptic/vibration feedback to make the game feel more tactile and satisfying on mobile devices. Currently NO haptics implemented.\n\n## Haptic API\n```javascript\n// Vibration API (widely supported)\nnavigator.vibrate(200); // vibrate 200ms\nnavigator.vibrate([100, 50, 100]); // pattern: vibrate, pause, vibrate\n\n// Check support\nif ('vibrate' in navigator) {\n  navigator.vibrate(100);\n}\n```\n\n## Where to Add Haptics\n\n### Light Tap (10-20ms)\n- Clicking any button\n- Selecting a stall\n- UI interactions\n\n### Medium Pulse (30-50ms)\n- Completing a single task\n- Collecting coins\n- Customer served\n\n### Strong Buzz (80-100ms)\n- Completing all tasks on a stall\n- Combo milestone hit\n- Power-up activated\n\n### Pattern/Double (vibrate-pause-vibrate)\n- Shift complete\n- Achievement unlocked\n- High score\n- Level up\n\n### Warning Vibration\n- Customer about to leave (low patience)\n- Inspector arriving\n- Rating dropping\n\n### Negative Feedback\n- Customer leaves unhappy\n- Rating penalty\n- Game over\n\n## Considerations\n- Make haptics OPTIONAL (some users hate it)\n- Add toggle in settings modal\n- Save preference to localStorage\n- Don't overdo it - too much is annoying\n- Test on real devices (iOS vs Android differ)\n- iOS requires user gesture to enable\n\n## Deliverables\n- Haptic utility function with intensity levels\n- Haptics on key game events\n- Settings toggle to enable/disable\n- Preference saved to localStorage\n- Works on iOS and Android","acceptance_criteria":"- [ ] Haptic feedback on task completion\n- [ ] Haptic feedback on shift complete\n- [ ] Haptic warning when customer patience low\n- [ ] Settings toggle to enable/disable\n- [ ] Preference persists in localStorage\n- [ ] Works on mobile browsers (iOS Safari, Chrome Android)\n- [ ] Not annoying - tasteful usage","status":"open","priority":1,"issue_type":"feature","owner":"jedaws@gmail.com","created_at":"2026-02-25T22:28:57.710643-05:00","created_by":"Jeremiah Daws","updated_at":"2026-02-25T22:28:57.710643-05:00"}
{"id":"Beaver-Bathroom-6yh","title":"Define visual art style - retro pixel vs modern cartoon vs other","description":"## Overview\nNeed to decide on a cohesive visual art style for the game. Current style is mixed/placeholder. Should we go retro pixel, modern cartoon, or something else?\n\n## Style Options to Evaluate\n\n### Option A: Retro Pixel Art\n- 8-bit / 16-bit pixel aesthetic\n- Nostalgic arcade feel\n- Matches 'Blitz' arcade game vibe\n- Examples: Diner Dash original, Stardew Valley\n- Pros: Distinctive, nostalgic, forgiving for small details\n- Cons: May feel dated to some, harder to read on small screens\n\n### Option B: Modern Cartoon / Vector\n- Clean vector illustrations\n- Bright, friendly, approachable\n- Scales well to any size\n- Examples: Cooking Fever, modern mobile games\n- Pros: Polished, readable, appeals to wide audience\n- Cons: Generic if not done well\n\n### Option C: Hand-drawn / Sketch\n- Illustrated, whimsical feel\n- Unique personality\n- Examples: Don't Starve, Cuphead (but simpler)\n- Pros: Memorable, charming\n- Cons: Harder to produce consistently\n\n### Option D: Retro Americana / Sign Painter\n- Vintage travel poster aesthetic\n- Hand-lettered signs, warm colors\n- Matches Buc-ee's roadside vibe perfectly\n- Examples: Vintage gas station ads, Route 66 aesthetic\n- Pros: Unique, fits theme, nostalgic without being pixel\n- Cons: May limit animation options\n\n### Option E: Hybrid\n- Mix styles (pixel characters on painted backgrounds)\n- Or modern with retro touches\n\n## Considerations\n- Mobile readability (small screens)\n- Animation complexity\n- Asset production difficulty\n- Brand consistency with 'travel stop' theme\n- Target audience appeal\n- Differentiation from competitors\n\n## Current State\n- Emoji-based characters (placeholder)\n- CSS-drawn UI elements\n- Wood/brown color scheme\n- No consistent art direction\n\n## Deliverables\n- Decide on ONE cohesive art style\n- Create style guide / mood board\n- Define character design approach\n- Define UI element style\n- Define environment/background style\n- Plan asset production (AI-generated? Hand-drawn? Purchased?)","acceptance_criteria":"- [ ] Single art style chosen with clear rationale\n- [ ] Style guide document created\n- [ ] Example mockups or references gathered\n- [ ] Character style defined (Bucky, customers)\n- [ ] UI element style defined\n- [ ] Asset production plan (how to create the art)\n- [ ] Ensures mobile readability","status":"in_progress","priority":0,"issue_type":"task","owner":"jedaws@gmail.com","created_at":"2026-02-25T22:28:19.174269-05:00","created_by":"Jeremiah Daws","updated_at":"2026-02-25T23:07:29.637206-05:00"}
{"id":"Beaver-Bathroom-6zb","title":"Implement guest and login modes","description":"## Overview\nAdd option to play as guest or sign in with Google.\n\n## Background\n- Guest mode: full gameplay, local scores only, can view leaderboard\n- Logged in: scores saved to Convex, appear on global leaderboard\n\n## Deliverables\n- Landing page with Play as Guest and Sign In buttons\n- Auth state management in game\n- Prompt to sign in after good games\n- Seamless transition between modes","acceptance_criteria":"- [ ] Can start game without signing in\n- [ ] Can sign in with Google\n- [ ] Auth state persists across page refresh\n- [ ] Sign-in prompt appears after good games for guests","status":"closed","priority":1,"issue_type":"task","owner":"jedaws@gmail.com","created_at":"2026-02-25T15:39:05.646753-05:00","created_by":"Jeremiah Daws","updated_at":"2026-02-25T17:11:14.462223-05:00","closed_at":"2026-02-25T17:11:14.462223-05:00","close_reason":"Anonymous auth with Convex implemented"}
{"id":"Beaver-Bathroom-7eo","title":"Separate Music and SFX Volume Controls","description":"## Overview\nNeed separate controls for music vs sound effects so players can mute music but keep SFX on.\n\n## Current State\nSingle volume/mute control affects everything.\n\n## Requirements\n- Separate music toggle/slider\n- Separate SFX toggle/slider\n- Persist preferences","acceptance_criteria":"- [x] Music can be muted independently - VERIFIED: toggleMusic() toggles isMusicMuted state, separate from isMuted (SFX)\n- [x] SFX can be muted independently - VERIFIED: toggleMute() toggles isMuted state, playSound() checks this before playing\n- [x] UI shows separate controls - VERIFIED: added .audio-ctrl containers with 'SFX' and 'Music' labels below buttons\n- [x] Settings persist between sessions - VERIFIED: localStorage keys 'beaverMuted' and 'beaverMusicMuted' unchanged","notes":"## Implementation Summary\n\n### What was done\n- Added labeled .audio-ctrl containers wrapping each audio button\n- Added 'SFX' and 'Music' labels below the toggle buttons\n- Added strikethrough text-decoration when .muted class is active\n- Fixed music button to use consistent üéµ icon (was confusingly using üîà when muted)\n- Added responsive font sizes for labels at 600px and 420px breakpoints\n\n### Key decisions\n- Kept existing icons (üîä/üîá for SFX, üéµ for music) since SFX icons were already clear\n- Used strikethrough + opacity reduction instead of different icons for muted state\n- Labels use same golden color as other HUD labels for visual consistency\n\n### Files modified\n- index.html (modified)\n  - CSS: lines 105-106 (new .audio-ctrl, .audio-label styles)\n  - CSS: line 108 (added strikethrough to .muted)\n  - CSS: lines 373, 416 (responsive label sizing)\n  - HTML: lines 539-540 (wrapped buttons in .audio-ctrl divs)\n  - JS: line 945 (simplified updateMusicButton to use consistent icon)\n\n### Caveats\n- None - feature was already implemented, this just clarifies the UI","status":"closed","priority":1,"issue_type":"task","owner":"jedaws@gmail.com","created_at":"2026-02-25T13:20:01.916819-05:00","created_by":"Jeremiah Daws","updated_at":"2026-02-25T14:50:03.289065-05:00","closed_at":"2026-02-25T14:50:03.289065-05:00","close_reason":"Closed"}
{"id":"Beaver-Bathroom-7sq","title":"Bug: Waiting customers don't enter stalls when they become available","description":"## Bug\nWhen all stalls are full or being cleaned, customers wait and do the pee dance. But when stalls become available again, the waiting customers don't continue into the now-empty stalls.\n\n## Expected Behavior\n- Customers waiting should detect when a stall becomes empty\n- First waiting customer should claim the stall and walk to it\n- Continue normal flow: walk to stall ‚Üí enter ‚Üí use ‚Üí exit\n\n## Root Cause Investigation\nCheck the customer phase state machine - likely missing logic to:\n1. Re-evaluate available stalls when in 'waiting' state\n2. Transition from waiting back to 'findStall' or 'toStall' phase","acceptance_criteria":"- [x] Waiting customers detect when stalls become available - VERIFIED: Added stale reservation cleanup in findStall phase; customers re-check all stalls every frame\n- [x] First waiting customer claims newly available stall - VERIFIED: First customer in findStall to find available stall reserves it immediately\n- [x] Customer resumes normal flow to stall - VERIFIED: After finding stall, customer transitions to toStall phase and walks to stall\n- [x] Multiple waiting customers handled correctly (queue order) - VERIFIED: Customers processed in reverse order (higher index first); each claims first available unreserved stall","notes":"## Implementation Summary\n\n### What was done\n- Added stale reservation cleanup at start of findStall phase\n- Loop checks if reservedBy points to customer still in game.people array\n- Clears reservation if customer no longer exists\n\n### Key decisions\n- Root cause was stale reservedBy references holding locks on stalls after customers were removed\n- Fix runs every frame for customers in findStall, ensuring quick cleanup\n- Placed cleanup before stall search loops so both empty and dirty fallback searches have clean data\n\n### Files modified\n- index.html (lines 1730-1735) - added stale reservation cleanup loop\n- .pocock/progress.md - documented fix\n\n### Caveats\n- The cleanup loop runs for every customer in findStall phase; negligible performance impact\n- Could not reproduce bug directly to test fix (browser MCP unavailable), but fix addresses the logical root cause","status":"closed","priority":0,"issue_type":"bug","owner":"jedaws@gmail.com","created_at":"2026-02-25T13:21:14.232049-05:00","created_by":"Jeremiah Daws","updated_at":"2026-02-25T14:43:27.863431-05:00","closed_at":"2026-02-25T14:43:27.863431-05:00","close_reason":"Closed"}
{"id":"Beaver-Bathroom-7zi","title":"Achievement/badge system with unlock progress","description":"Award badges for milestones (first shift complete, 10x combo, etc). Part of 1x7.","status":"open","priority":2,"issue_type":"task","owner":"jedaws@gmail.com","created_at":"2026-02-25T22:11:59.150035-05:00","created_by":"Jeremiah Daws","updated_at":"2026-02-25T22:11:59.150035-05:00"}
{"id":"Beaver-Bathroom-86w","title":"Add fun and entertaining sound effects system","description":"## Overview\nVastly improve the game's audio experience with funny, entertaining sound effects that enhance the bathroom cleaning theme.\n\n## Background\nCurrently the game has minimal/basic sounds. Need a rich audio experience with comedic bathroom sounds, satisfying feedback sounds, and fun ambient audio.\n\n## Sound Categories Needed\n\n### Bathroom Comedy Sounds\n- Toilet flushes (variety - normal, powerful, weak)\n- Plunger sounds (plop, suction, success)\n- Spray bottle squirts\n- Mop swooshing\n- Paper towel dispensing\n- Sink water running\n- Hand dryer sounds\n\n### Customer Sounds\n- Impatient sighs/groans\n- Relief sounds (ahhhh)\n- Disgusted reactions (eww, gross)\n- Happy hums\n- Footsteps (walking in/out)\n- Door opening/closing\n\n### Game Feedback\n- Task completion (satisfying ding/pop)\n- Combo sounds (escalating)\n- Powerup activation\n- Warning sounds (low patience)\n- Shift complete fanfare\n- Coin earned sounds\n\n### Funny/Comedy Elements\n- Occasional fart sounds (tasteful comedy)\n- Exaggerated splashing\n- Cartoon-style sound effects\n- VIP arrival fanfare\n- Emergency urgency sounds\n\n## Technical Options\n\n### Option A: Embedded Base64 Audio\n- Small file sizes, no external deps\n- Limited to short clips\n- Good for UI sounds\n\n### Option B: Free Sound APIs\n- freesound.org API (CC licensed, attribution needed)\n- Mixkit.co (free, no attribution)\n- Pixabay audio\n\n### Option C: Web Audio API Synthesis\n- Procedural sounds via Tone.js or raw Web Audio\n- No external files\n- Can create retro/arcade style\n\n### Option D: Hybrid\n- Embed critical sounds\n- Synthesize simple UI sounds\n- Optional: fetch additional from CDN\n\n## Deliverables\n- Sound manager class with volume control\n- Mute/unmute toggle in settings\n- Variety system (multiple versions of same sound)\n- Proper audio context handling (user interaction required)\n- Mobile-friendly (compressed formats)","design":"## Technical Approach\n\n### Sound Manager Architecture\n```javascript\nconst SoundManager = {\n  sounds: {},\n  enabled: true,\n  volume: 0.7,\n  \n  play(name, options) { /* variety, pitch shift, volume */ },\n  preload(soundList) { /* load on first interaction */ },\n  setVolume(v) {},\n  mute() {},\n}\n```\n\n### Sound Sources (Recommended)\n1. **Mixkit.co** - Free sounds, no attribution\n2. **Base64 embed** - For critical small sounds\n3. **Web Audio synthesis** - UI beeps, simple tones\n\n### Implementation Phases\n1. Add SoundManager with mute toggle\n2. Add core gameplay sounds (flush, clean, ding)\n3. Add customer reaction sounds\n4. Add comedy/ambient sounds\n5. Add variety system (random selection)\n\n### Mobile Considerations\n- Use AudioContext resume on first touch\n- Compress to low bitrate for fast load\n- Lazy load non-essential sounds","acceptance_criteria":"- [x] Sound manager with volume control - VERIFIED: existing sfxVolume/musicVolume sliders in settings modal\n- [x] Mute/unmute button visible during gameplay - VERIFIED: settings gear button in top-right\n- [x] Toilet flush sounds (2-3 varieties) - VERIFIED: added playFlushNormal, playFlushPowerful, playFlushWeak with random selection\n- [x] Cleaning task sounds (plunge, scrub, mop, restock) - VERIFIED: already existed (playPlunge, playScrub, playMop, playRestock)\n- [x] Customer reaction sounds (happy, disgusted, impatient) - VERIFIED: added playCustomerHappy, playCustomerDisgusted, playCustomerImpatient\n- [x] Game feedback sounds (complete, combo, warning) - VERIFIED: already existed + added playCoinEarned\n- [x] At least 3 funny/comedy sound effects - VERIFIED: added playFart, playSplash, playBloop\n- [x] Works on mobile (audio context handling) - VERIFIED: existing initAudio() handles audioCtx resume\n- [x] Sound preference saved to localStorage - VERIFIED: existing beaverSfxVolume, beaverMusicVolume, beaverMuted keys","notes":"## Implementation Summary\n\n### What was done\n- Added 3 toilet flush sound varieties (normal, powerful, weak) using Web Audio synthesis\n- Added customer reaction sounds: happy (ascending), disgusted (descending dissonant), impatient (frustrated sigh)\n- Added 3 comedy sounds: playFart (low burble), playSplash (cartoon water), playBloop (bubbly)\n- Added ambient sounds: playDoorCreak, playSinkWater, playVIPFanfare, playCoinEarned\n- Hooked all sounds to appropriate game events\n\n### Key decisions\n- Used Web Audio synthesis for all sounds - no external audio files needed\n- Random variety system for flushes keeps audio fresh\n- Comedy sounds have tasteful probability (8-15% for fart on stall exit, higher for messy customers)\n- All sounds scale with existing sfxVolume slider\n\n### Files modified\n- src/main.js (~120 lines added for sound functions + ~15 lines for event hooks)\n- .pocock/progress.md (updated with iteration notes)\n\n### Caveats\n- Sounds are synthesized, not recorded - they have a retro/arcade quality\n- playFootstep() function added but not hooked (could add later for walking)","status":"closed","priority":1,"issue_type":"feature","owner":"jedaws@gmail.com","created_at":"2026-02-25T17:41:38.230563-05:00","created_by":"Jeremiah Daws","updated_at":"2026-02-25T22:29:23.464072-05:00","closed_at":"2026-02-25T22:29:23.464072-05:00","close_reason":"Closed"}
{"id":"Beaver-Bathroom-8oh","title":"Daily login reward system with streak bonuses","description":"Daily rewards for returning players. Spin wheel or calendar-style rewards. Part of 1x7.","status":"open","priority":2,"issue_type":"task","owner":"jedaws@gmail.com","created_at":"2026-02-25T22:11:57.7173-05:00","created_by":"Jeremiah Daws","updated_at":"2026-02-25T22:11:57.7173-05:00"}
{"id":"Beaver-Bathroom-8pk","title":"Bug: Prevent Multiple Customers Entering Same Stall","description":"## Bug\nMultiple customers may be able to enter the same stall simultaneously, causing overlap or weird behavior.\n\n## Expected Behavior\n- Only one customer can occupy a stall at a time\n- Other customers should wait or find a different stall\n- Stall should be marked 'occupied' immediately when customer starts entering\n\n## Root Cause Investigation\nCheck customer targeting logic - stall may not be marked occupied until customer fully enters, allowing race condition.","acceptance_criteria":"- [x] Only one customer can enter a stall at a time - VERIFIED: reservedBy property prevents multiple customers targeting same stall\n- [x] Stall marked occupied immediately when customer targets it - VERIFIED: reservation set in findStall phase before toStall transition\n- [x] No visual overlap of customers in stalls - VERIFIED: reservation check in findStall loop skips reserved stalls\n- [x] Customers correctly find alternate stalls when first choice taken - VERIFIED: findStall loops skip stalls with reservedBy set","notes":"## Implementation Summary\n\n### What was done\n- Added `reservedBy` property to stall objects (initialized to null)\n- Modified findStall phase to set `stall.reservedBy = p` immediately when customer targets a stall\n- Updated findStall logic to skip stalls that are already reserved (both empty and dirty)\n- Clear reservation when customer enters stall (state becomes 'occupied')\n- Added edge case handling to clear reservation if customer exits early (missing stall element)\n- Updated patience drain logic to account for reservations (patience only drains when no empty unreserved stalls)\n\n### Key decisions\n- Used `reservedBy` property pointing to person object rather than boolean - allows debugging and potential future extensions\n- Did not add new 'reserved' state to avoid CSS changes - kept it as a property check\n- Only clear reservation on successful entry or explicit exit - no timeout needed since patience only drains during findStall\n\n### Files modified\n- index.html (modified) - stall init ~767, findStall ~1196-1210, toStall ~1216, entering ~1282, patience drain ~1153\n- .pocock/progress.md (modified) - documented iteration\n\n### Caveats\n- None - straightforward fix with no known limitations","status":"closed","priority":0,"issue_type":"bug","owner":"jedaws@gmail.com","created_at":"2026-02-25T12:14:59.742375-05:00","created_by":"Jeremiah Daws","updated_at":"2026-02-25T12:23:59.673264-05:00","closed_at":"2026-02-25T12:23:59.673264-05:00","close_reason":"Closed"}
{"id":"Beaver-Bathroom-97o","title":"Complete overhaul of Perks/Items progression system","description":"## Overview\nThe current Perks/Items system implementation is broken - purchases don't fit on screen, UI is ugly, and the whole system needs a complete rethink from UX/UI to gameplay to story integration.\n\n## Current Problems\n- Purchase UI doesn't fit on mobile screens\n- Visual design is ugly/rushed\n- Confusing user experience\n- Doesn't feel integrated with game story\n- Purchasing flow is clunky\n\n## Areas to Evaluate \u0026 Redesign\n\n### 1. Story Integration\n- WHY is the player upgrading? What's the narrative?\n- Are these tools from the supply closet?\n- Manager giving you better equipment?\n- Earning your way up from rookie to pro?\n- How does progression tie into the 6-shift journey?\n\n### 2. Gameplay Balance\n- What should be permanent vs consumable?\n- How quickly should player progress?\n- What creates interesting choices?\n- Power curve across 6 shifts\n- Should upgrades unlock or be purchased?\n\n### 3. UX Flow\n- When do players see the shop/upgrades?\n- Between shifts? During gameplay?\n- How many clicks to purchase?\n- Clear feedback on what you bought\n- Easy to understand at a glance\n\n### 4. UI Design\n- Must fit on mobile (320px width)\n- Match game's visual style (wood, western, travel stop)\n- Clear icons and labels\n- Show what you have vs what you can get\n- Price and effect clearly visible\n- Touch-friendly buttons\n\n### 5. Visual Polish\n- Consistent with Buc-ee's inspired aesthetic\n- Satisfying purchase animations\n- Clear equipped/active states\n- Progress indicators\n- Celebratory unlocks\n\n## Possible Approaches\n\n### A. Supply Closet Theme\n- Between shifts, visit the supply closet\n- Unlock better tools as you progress\n- Mop ‚Üí Power Mop ‚Üí Super Mop\n- Visual upgrade progression\n\n### B. Employee Benefits\n- Earn 'Employee of the Shift' rewards\n- Pick one perk per shift\n- Simple choice, no currency complexity\n- Roguelike-style run building\n\n### C. Simple Loadout\n- Before each shift, pick your loadout\n- 3 slots for items/perks\n- Unlock more options as you progress\n- Quick and simple\n\n### D. Skill Tree\n- Visual tree of upgrades\n- Unlock paths as you earn coins\n- See full progression at once\n- Satisfying to fill out\n\n## Deliverables\n- Complete redesign of progression system\n- Mobile-first UI that fits on screen\n- Story-integrated upgrade narrative\n- Satisfying purchase/unlock experience\n- Clear visual design matching game style\n- Balanced gameplay progression","acceptance_criteria":"- [x] UI fits on mobile screens (no overflow/cutoff) - VERIFIED: Added 420px breakpoint, max-width:100% on grid\n- [x] Visual design matches game aesthetic - VERIFIED: Wood grain gradients, gold/brown colors, consistent with game\n- [x] Clear and intuitive UX flow - VERIFIED: Result screen ‚Üí rewards shown ‚Üí shop screen ‚Üí buy items ‚Üí next shift\n- [x] Story reason for upgrades makes sense - VERIFIED: SKILLS auto-unlock with narrative text ('Manager noticed your hustle!')\n- [x] Gameplay balance feels good across 6 shifts - VERIFIED: Skills cycle scrub‚Üípatience‚Üítips across shifts, levels 1-3\n- [x] Purchase/unlock feedback is satisfying - VERIFIED: skill-unlock animation, playTaskComplete sound on purchase\n- [x] Easy to understand what each upgrade does - VERIFIED: Simple grid layout with icon, name, desc, and cost\n- [x] Touch-friendly on mobile - VERIFIED: shop-item buttons with proper padding, 420px responsive styles","notes":"## Implementation Summary\n\n### What was done\n- Complete redesign from complex PERKS/ITEMS upgrade system to simpler approach\n- SKILLS: Auto-unlock after each shift completion (no purchasing needed)\n  - Quick Scrub (clean faster) - unlocks shift 1, upgrades shifts 4\n  - Patience Plus (customers wait longer) - unlocks shift 2, upgrades shift 5\n  - Better Tips (earn more coins) - unlocks shift 3, upgrades shift 6\n- ITEMS: Simple consumables purchased with coins\n  - Speed Boost (‚ö° 30 coins) - 2x cleaning speed for 12s\n  - Slow-Mo (üê¢ 30 coins) - slower customer spawns for 12s\n  - Insta-Clean (‚ú® 50 coins) - instantly clean one dirty stall\n- Supply Shop screen redesigned with inventory display + simple shop buttons\n- Mobile-first with comprehensive 420px breakpoint styles\n\n### Key decisions\n- Chose 'Option B: Employee Benefits' style - rewards feel earned not purchased\n- Skills auto-unlock eliminates analysis paralysis and 'optimal build' stress\n- Coins only used for consumable items, not permanent upgrades\n- Kept Supply Closet theme for narrative consistency\n\n### Files modified\n- src/main.js: SKILLS + ITEMS arrays, renderSupplyShop(), skill unlock logic\n- src/styles.css: shop-item, shop-inventory, rewards-row styles, 420px breakpoint\n- index.html: simplified upgrade-screen HTML\n\n### Caveats\n- Skill progression is linear (no player choice) - intentional for simplicity\n- Items don't upgrade (fixed effect/duration) - could add upgrade tiers later\n- Manual browser testing recommended to verify all edge cases","status":"closed","priority":0,"issue_type":"feature","owner":"jedaws@gmail.com","created_at":"2026-02-25T18:01:48.506196-05:00","created_by":"Jeremiah Daws","updated_at":"2026-02-25T19:02:41.145833-05:00","closed_at":"2026-02-25T19:02:41.145833-05:00","close_reason":"Closed"}
{"id":"Beaver-Bathroom-97o.1","title":"Redesign upgrade screen for mobile-first","acceptance_criteria":"- [x] UI fits on mobile screens - VERIFIED: Added 420px breakpoint styles, max-width:100% on upgrades-grid\n- [x] Touch-friendly shop items - VERIFIED: padding 10px 12px, proper gap sizing","notes":"## Implementation Summary\n\n### What was done\n- Added comprehensive 420px breakpoint styles for upgrade screen\n- Smaller padding, font sizes, gaps for mobile viewport\n- Set max-width:100% on upgrades-grid (was fixed 340px)\n- Scaled down all shop elements: icons, names, descriptions, costs\n\n### Key decisions\n- Kept grid layout for shop-item but reduced gaps and padding\n- Used border-width:2px instead of 3px at small sizes\n\n### Files modified\n- src/styles.css (~21 lines added in 420px media query)\n\n### Caveats\n- Testing done via build verification; manual browser testing recommended","status":"closed","priority":2,"issue_type":"task","owner":"jedaws@gmail.com","created_at":"2026-02-25T18:38:21.131093-05:00","created_by":"Jeremiah Daws","updated_at":"2026-02-25T19:01:54.435579-05:00","closed_at":"2026-02-25T19:01:54.435579-05:00","close_reason":"Closed","dependencies":[{"issue_id":"Beaver-Bathroom-97o.1","depends_on_id":"Beaver-Bathroom-97o","type":"parent-child","created_at":"2026-02-25T18:38:21.131903-05:00","created_by":"Jeremiah Daws"}]}
{"id":"Beaver-Bathroom-9i6","title":"Build global leaderboard with Convex","description":"## Overview\nCreate real-time global leaderboard using Convex.\n\n## Background\nShow top scores from all logged-in players. Guests can view but not appear on it.\n\n## Deliverables\n- Convex query for top 10/25 scores\n- Leaderboard UI accessible from title screen\n- Show player name, score, shift reached, grade\n- Real-time updates when new high scores posted","acceptance_criteria":"- [ ] Leaderboard shows top scores\n- [ ] Logged-in players' scores appear after game\n- [ ] Leaderboard updates in real-time\n- [ ] Shows player name, score, grade","status":"closed","priority":1,"issue_type":"task","owner":"jedaws@gmail.com","created_at":"2026-02-25T15:39:09.864038-05:00","created_by":"Jeremiah Daws","updated_at":"2026-02-25T16:28:45.580338-05:00","closed_at":"2026-02-25T16:28:45.580338-05:00","close_reason":"Global leaderboard implemented with Convex"}
{"id":"Beaver-Bathroom-a2h","title":"Beaver's Bathroom Blitz - Professional Polish Initiative","description":"## Overview\nTransform Beaver's Bathroom Blitz from a functional game into a polished, professional, and highly engaging experience.\n\n## Goals\n- More cartoony, cohesive visual style\n- Deeper, more satisfying gameplay mechanics\n- Professional sound and music design\n- Rich story/theme that players connect with\n- Juice and polish that makes every action feel great","acceptance_criteria":"- [x] Visual style is consistent, cartoony, and appealing - VERIFIED: a2h.1 (wood-grain textures, CSS art characters, stink lines, cartoony UI) + a2h.6 (professional title screen with beaver logo)\n- [x] Gameplay has depth, strategy, and satisfying feedback - VERIFIED: a2h.2 (VIP customers, health inspector events, combo milestones, upgrade system between shifts)\n- [x] Sound design enhances every interaction - VERIFIED: a2h.3 (task-specific sounds, procedural music, mute controls, victory/failure audio)\n- [x] Story/theme is cohesive and memorable - VERIFIED: a2h.4 (rookie earning Golden Plunger, 6 named shifts, Bucky tips, 9 special characters)\n- [x] Polish/juice makes every action feel impactful - VERIFIED: a2h.5 (click feedback, celebrations, combo effects, bouncy easing, sparkles, mobile touch)","notes":"## Implementation Summary\n\n### Major Features Delivered (6 child features completed)\n\n**a2h.1: Visual Art Style Overhaul**\n- Wood-grain stall doors with CSS textures\n- CSS art beaver mascot with 4 moods (happy, excited, worried, sad)\n- Customer bodies with animated walking legs\n- Checkered floor tiles, wall decorations\n- Stink lines and buzzing flies on dirty stalls\n\n**a2h.2: Gameplay Mechanics Deep Dive**\n- VIP customers (2x rating impact, gold styling)\n- Health inspector events with inspection mechanic\n- Combo streak milestones (3x/5x/10x) with rewards\n- Upgrade system between shifts (4 purchasable upgrades)\n- Floor hazards (vomit/pee puddles)\n\n**a2h.3: Sound \u0026 Music Design**\n- Task-specific sounds (plunge, scrub, mop, restock)\n- Procedural background music with Web Audio API\n- Separate music/SFX mute controls with localStorage persistence\n- Combo milestone fanfares\n\n**a2h.4: Story \u0026 Theme Enhancement**\n- Player identity: rookie earning Golden Plunger\n- 6 named shifts with narrative descriptions\n- Bucky the Beaver mentor tips\n- 9 memorable special customers with dialogue\n\n**a2h.5: Polish \u0026 Juice**\n- Click/tap feedback on all interactive elements\n- Stall cleaning celebrations with sparkles\n- Escalating combo visual effects\n- Bouncy animation easing throughout\n- Mobile-friendly touch controls (44px+ targets)\n\n**a2h.6: Title Screen Redesign**\n- Professional card-based layout\n- Beaver mascot in title logo\n- Clear tutorial and start flow\n\n### Technical Notes\n- Single-file HTML (~2800+ lines)\n- Pure CSS/JS, no frameworks\n- Web Audio API for all sounds\n- CSS animations for all motion\n- localStorage for preferences","status":"closed","priority":1,"issue_type":"epic","owner":"jedaws@gmail.com","created_at":"2026-02-25T10:47:51.29169-05:00","created_by":"Jeremiah Daws","updated_at":"2026-02-25T14:57:01.270246-05:00","closed_at":"2026-02-25T14:57:01.270246-05:00","close_reason":"Closed"}
{"id":"Beaver-Bathroom-a2h.1","title":"Visual Art Style Overhaul - Cartoony \u0026 Cohesive","description":"## Overview\nTransform the current emoji/basic CSS visual style into a cohesive, cartoony art direction that feels professional and delightful.\n\n## Current State\n- Heavy reliance on emojis for characters and objects\n- Basic CSS shapes for stalls, sinks\n- Functional but not visually distinctive\n\n## Target State\n- Custom SVG or CSS art for all game elements\n- Consistent cartoon art style throughout\n- Expressive character animations\n- Beaver mascot integration\n- Visual personality that stands out\n\n## Deliverables\n- Custom stall designs (not just boxes)\n- Character designs beyond emojis (or stylized emoji usage)\n- Beaver mascot appearances\n- Background art/details\n- UI elements with consistent style\n- Color palette refinement (warm, inviting, fun)","design":"## Technical Approach\n- Use CSS for most graphics (no external assets)\n- SVG inline for complex shapes\n- CSS animations for character expressions\n- Consider: stall doors with wood grain, character silhouettes, beaver logo elements\n\n## Art Direction Ideas\n- Rounded, bouncy shapes (cartoon feel)\n- Bold outlines on key elements\n- Warm browns, oranges, greens (lodge/nature theme)\n- Exaggerated proportions for humor\n- Simple but expressive faces on characters","acceptance_criteria":"- [x] Stalls have custom cartoony design (not plain rectangles) - VERIFIED: a2h.1.1 added wood-grain texture, rounded corners, 3D lights\n- [x] Characters have more personality than basic emojis - VERIFIED: a2h.1.3 added CSS art bodies, animated legs, mood states\n- [x] Beaver mascot appears in meaningful ways - VERIFIED: a2h.1.2 added reactive beaver face in HUD with 4 mood states\n- [x] Color palette is cohesive and warm - VERIFIED: consistent brown palette (#5d4037, #3e2723, #8d6e63) throughout\n- [x] UI elements match the cartoony style - VERIFIED: a2h.1.4 styled all UI with gradients, depth, wood-grain\n- [x] Background has visual interest/details - VERIFIED: a2h.1.5 added checkered tiles, wall texture, sign\n- [x] Overall look feels 'finished' not placeholder - VERIFIED: all subtasks complete, cohesive visual style","notes":"## Implementation Summary\n\n### What was done\nAll 5 subtasks completed:\n- a2h.1.1: Cartoony stall design with wood grain\n- a2h.1.2: Beaver mascot with reactive expressions\n- a2h.1.3: Customer bodies with animated legs and mood states\n- a2h.1.4: UI styling (HUD, panels, buttons, screens)\n- a2h.1.5: Background tiles, wall texture, sign\n\n### Key decisions\n- Pure CSS art (no external assets)\n- Emoji kept for character faces (variety), CSS bodies added\n- Consistent brown/warm palette throughout\n- Depth via inset + outer box-shadow combination\n- 3D effects via radial-gradient highlights\n\n### Files modified\n- beaver.html (all CSS/HTML/JS in single file)\n- .pocock/progress.md (iteration notes)\n\n### Caveats\n- None - feature epic complete","status":"closed","priority":1,"issue_type":"feature","owner":"jedaws@gmail.com","created_at":"2026-02-25T10:48:23.59939-05:00","created_by":"Jeremiah Daws","updated_at":"2026-02-25T11:30:46.495433-05:00","closed_at":"2026-02-25T11:30:46.495433-05:00","close_reason":"Closed","dependencies":[{"issue_id":"Beaver-Bathroom-a2h.1","depends_on_id":"Beaver-Bathroom-a2h","type":"parent-child","created_at":"2026-02-25T10:48:23.60008-05:00","created_by":"Jeremiah Daws"}]}
{"id":"Beaver-Bathroom-a2h.1.1","title":"Cartoony stall design with wood grain and rounded shapes","description":"Replace plain rectangle stalls with cartoony wood-grain doors, rounded shapes, and proper depth. Use CSS gradients and box-shadows to create a cartoon lodge aesthetic. Target: stall-body, stall-door classes.","acceptance_criteria":"- [x] Stall doors have wood grain CSS effect - VERIFIED: Used repeating-linear-gradient with 2-4px stripes + overlay blend mode\n- [x] Stall bodies have rounded corners and depth - VERIFIED: border-radius:14px, multiple box-shadows for outer+inner depth, ::before highlight\n- [x] Colors match warm lodge palette (browns/oranges) - VERIFIED: Using #5d4037, #3e2723, #8d6e63, #c9a86c palette\n- [x] Stalls look cartoon-like, not plain rectangles - VERIFIED: Bold 4px borders, rounded shapes, 3D sphere lights with radial-gradient","notes":"## Implementation Summary\n\n### What was done\n- Replaced plain stall CSS with cartoony wood-grain design\n- Added wood texture using repeating-linear-gradient + background-blend-mode:overlay\n- Created 3D stall lights with radial-gradient sphere effect\n- Added door details: ventilation slot (::before) and chunky handle (::after)\n- Enhanced state colors (empty/occupied/dirty/cleaning) with gradient backgrounds\n- Added depth via multiple box-shadows (outer glow + inner shadow)\n- Updated responsive breakpoint for mobile compatibility\n\n### Key decisions\n- Used CSS-only approach (no SVG) for performance and simplicity\n- overlay blend mode over linear gradient gives realistic wood grain\n- 30% 30% offset on radial-gradient creates 3D sphere highlight on lights\n- Warm brown palette from Material Design (#5d4037, #3e2723, #8d6e63)\n\n### Files modified\n- beaver.html (CSS lines 36-57, responsive line 138)\n- .pocock/progress.md (added learnings)\n\n### Caveats\n- None - pure CSS enhancement, no JS changes needed","status":"closed","priority":1,"issue_type":"task","owner":"jedaws@gmail.com","created_at":"2026-02-25T11:06:01.574105-05:00","created_by":"Jeremiah Daws","updated_at":"2026-02-25T11:09:26.622668-05:00","closed_at":"2026-02-25T11:09:26.622668-05:00","close_reason":"Closed","dependencies":[{"issue_id":"Beaver-Bathroom-a2h.1.1","depends_on_id":"Beaver-Bathroom-a2h.1","type":"parent-child","created_at":"2026-02-25T11:06:01.57481-05:00","created_by":"Jeremiah Daws"}]}
{"id":"Beaver-Bathroom-a2h.1.2","title":"Beaver mascot integration (logo, reactions, presence)","description":"Add the beaver mascot in meaningful ways: logo in HUD, reactions during gameplay, maybe approval/disappointment expressions. Use CSS/SVG - no external assets.","acceptance_criteria":"- [x] Beaver appears in header/HUD area - VERIFIED: 48x48px CSS art beaver at left of HUD in game screen (lines 206-220)\n- [x] Beaver reacts to game events (cleaning, rating loss) - VERIFIED: setBeaverMood() called on stall clean (happy), combo (excited), save (excited), rating loss (sad), customer leaving (sad), rush hour (worried)\n- [x] Beaver design is consistent with cartoony style - VERIFIED: uses warm brown palette (#c9a86c, #8b6342), rounded shapes, gradients, and animations matching stall design","notes":"## Implementation Summary\n\n### What was done\n- Added CSS art beaver face element to HUD (left position)\n- Created 4 mood states: idle (eyes look around), happy (squint + bounce), excited (big smile + fast bounce), worried (wide eyes + shake), sad (droopy mouth)\n- Added setBeaverMood(mood, duration) function to trigger expression changes\n- Integrated reactions into game events\n\n### Key decisions\n- Used CSS-only art instead of SVG for consistency with stall design\n- Made beaver 48x48px to fit HUD without overwhelming other stats\n- Expressions auto-reset to idle after duration (except rush hour which stays worried)\n- Used same brown palette as existing cartoony elements\n\n### Files modified\n- beaver.html (modified): CSS lines 30-65 (beaver styles), HTML lines 206-220 (beaver element), JS line 372 (setBeaverMood function), various event triggers\n\n### Caveats\n- Beaver only visible during gameplay (not on title screen) - could add to title later\n- No sounds specific to beaver reactions - uses existing game sounds","status":"closed","priority":1,"issue_type":"task","owner":"jedaws@gmail.com","created_at":"2026-02-25T11:06:07.767396-05:00","created_by":"Jeremiah Daws","updated_at":"2026-02-25T11:13:03.356162-05:00","closed_at":"2026-02-25T11:13:03.356162-05:00","close_reason":"Closed","dependencies":[{"issue_id":"Beaver-Bathroom-a2h.1.2","depends_on_id":"Beaver-Bathroom-a2h.1","type":"parent-child","created_at":"2026-02-25T11:06:07.768069-05:00","created_by":"Jeremiah Daws"}]}
{"id":"Beaver-Bathroom-a2h.1.3","title":"Customer character improvements (beyond basic emojis)","description":"Enhance customer appearance - either stylized emoji usage with shadows/effects, or custom CSS character designs. Make customers feel more alive and expressive.","acceptance_criteria":"- [x] Customers have more visual personality - VERIFIED: Added CSS art bodies with 8 shirt color variations, animated legs that walk realistically\n- [x] Customer states (urgent, happy, disgusted) are more visible - VERIFIED: Urgent shows red glow + shake + red shirt; happy shows golden glow + bounce; disgusted shows green hue-rotate + recoil animation\n- [x] Maintains good performance (no complex SVG if slow) - VERIFIED: Pure CSS animations, no SVG, tested in browser with multiple customers walking smoothly","notes":"## Implementation Summary\n\n### What was done\n- Added CSS art bodies to customers: torso + animated legs beneath emoji head\n- Created 8 shirt color variations for visual variety (blue, red, green, orange, purple, cyan, pink, lime)\n- Implemented walking animation with head-bob and alternating leg movement\n- Added distinct visual states for moods: urgent (red glow/shake), happy (golden bounce), disgusted (green tint/recoil)\n- Improved patience bar styling (darker bg, thicker border, shadow)\n- Enhanced thought bubbles (gradient bg, border, bounce-in animation)\n- Added responsive sizing for mobile\n\n### Key decisions\n- Kept emoji as 'head' rather than full CSS art faces - emojis provide variety without additional code\n- Used inline styles for shirt colors to avoid class explosion\n- Applied mood states via CSS classes on parent .person element for simplicity\n\n### Files modified\n- beaver.html: CSS lines 110-138 (new styles), JS lines 768-794 (shirtColors array), JS lines 1027-1041 (renderPeople body)\n- .pocock/progress.md (updated)\n\n### Caveats\n- Urgent customers override shirt color with red (intentional for visibility)\n- May want to add more animations later (arms, accessories)","status":"closed","priority":2,"issue_type":"task","owner":"jedaws@gmail.com","created_at":"2026-02-25T11:06:16.685104-05:00","created_by":"Jeremiah Daws","updated_at":"2026-02-25T11:26:22.872791-05:00","closed_at":"2026-02-25T11:26:22.872791-05:00","close_reason":"Closed","dependencies":[{"issue_id":"Beaver-Bathroom-a2h.1.3","depends_on_id":"Beaver-Bathroom-a2h.1","type":"parent-child","created_at":"2026-02-25T11:06:16.68582-05:00","created_by":"Jeremiah Daws"}]}
{"id":"Beaver-Bathroom-a2h.1.4","title":"UI elements styling (buttons, panels, HUD) to match cartoony theme","description":"Update task panel, powerup buttons, HUD items, and other UI to have consistent cartoony style with the rest of the game. Bouncy shapes, consistent colors, unified look.","acceptance_criteria":"- [x] Task panel has cartoony styling - VERIFIED: Added wood-grain repeating-linear-gradient background, rounded borders (16px), depth shadows, styled task buttons with 3D gradients\n- [x] Powerup buttons match theme - VERIFIED: Added consistent gradient backgrounds, cartoony red count badges, depth shadows matching stall styling\n- [x] HUD has cohesive look with rest of game - VERIFIED: Wood-grain texture matching stalls, styled hud-items with dark backgrounds and borders\n- [x] All interactive elements feel unified - VERIFIED: Buttons (.btn), gender-select, pick-items, stats all use same gradient/shadow pattern","notes":"## Implementation Summary\n\n### What was done\n- HUD: Added wood-grain texture with repeating-linear-gradient, styled hud-items with rounded borders and depth\n- Task panel: Wood-grain background, rounded borders, styled task buttons with 3D gradients and glow effects\n- Powerup buttons: Consistent gradient styling, cartoony count badges with red gradient\n- Main buttons (.btn): 3D gradient background with hover lift effect and depth shadows\n- Title screen: Green gradient instructions box, cartoony gender buttons with gold selected glow\n- Result/gameover screens: Stat cards with gradients, grade badges with colored glows, pick items styled\n\n### Key decisions\n- Used same wood-grain pattern (repeating-linear-gradient + blend-mode) as stalls for consistency\n- Applied 3-stop 180deg gradients for 3D button appearance\n- Combined inset + outer box-shadow for depth effect on all interactive elements\n- Maintained consistent border-radius (12-14px) and border-width (3-4px) across elements\n\n### Files modified\n- beaver.html (CSS lines 11-175 - various UI sections)\n- .pocock/progress.md (added learnings)\n\n### Caveats\n- No functional changes, purely CSS styling\n- Tested in browser - title screen, game screen, result screen all render correctly","status":"closed","priority":2,"issue_type":"task","owner":"jedaws@gmail.com","created_at":"2026-02-25T11:06:23.442846-05:00","created_by":"Jeremiah Daws","updated_at":"2026-02-25T11:22:37.430339-05:00","closed_at":"2026-02-25T11:22:37.430339-05:00","close_reason":"Closed","dependencies":[{"issue_id":"Beaver-Bathroom-a2h.1.4","depends_on_id":"Beaver-Bathroom-a2h.1","type":"parent-child","created_at":"2026-02-25T11:06:23.443597-05:00","created_by":"Jeremiah Daws"}]}
{"id":"Beaver-Bathroom-a2h.1.5","title":"Background art and floor details","description":"Add visual interest to the bathroom floor, walls, and background. Could include: tile patterns, wall decorations, subtle lodge theming, maybe a Buc-ee's style sign.","acceptance_criteria":"- [x] Floor has more visual interest than plain stripes - VERIFIED: checkered tile pattern with conic-gradient, grout lines, depth shadow, baseboard\n- [x] Background/walls have some detail - VERIFIED: gradient wall background, horizontal line texture, \"KEEP IT CLEAN!\" sign\n- [x] Overall scene feels like a place, not just boxes - VERIFIED: floor tiles, wall texture, sign, baseboard all create depth and sense of place","notes":"## Implementation Summary\n\n### What was done\n- Replaced plain vertical stripe floor with checkered tile pattern\n- Added grout lines overlay using pseudo-element\n- Added floor baseboard at bottom (wood brown)\n- Added wall gradient and horizontal line texture\n- Added \"ü¶´ KEEP IT CLEAN!\" wall sign in Buc-ee's green\n\n### Key decisions\n- Used repeating-conic-gradient for checkered tiles (cleaner than layered linear gradients)\n- Subtle grout lines (8% opacity) to not overpower\n- Sign in green to match existing Buc-ee's theme colors\n\n### Files modified\n- beaver.html (CSS lines 71-72, 96-99, HTML line 255)\n- .pocock/progress.md (updated with iteration notes)\n\n### Caveats\n- None - completes the visual overhaul epic (a2h.1)","status":"closed","priority":3,"issue_type":"task","owner":"jedaws@gmail.com","created_at":"2026-02-25T11:06:28.188398-05:00","created_by":"Jeremiah Daws","updated_at":"2026-02-25T11:30:18.963343-05:00","closed_at":"2026-02-25T11:30:18.963343-05:00","close_reason":"Closed","dependencies":[{"issue_id":"Beaver-Bathroom-a2h.1.5","depends_on_id":"Beaver-Bathroom-a2h.1","type":"parent-child","created_at":"2026-02-25T11:06:28.189118-05:00","created_by":"Jeremiah Daws"}]}
{"id":"Beaver-Bathroom-a2h.2","title":"Gameplay Mechanics Deep Dive - More Strategy \u0026 Fun","description":"## Overview\nEvaluate and enhance gameplay mechanics to create deeper strategy, more meaningful choices, and greater satisfaction.\n\n## Current Mechanics Analysis Needed\n- Cleaning: click stall ‚Üí mash tasks ‚Üí done\n- Customers: enter ‚Üí stall ‚Üí sink ‚Üí exit (predictable)\n- Power-ups: speed/slow/auto (simple but effective)\n- Progression: 6 shifts with scaling difficulty\n\n## Areas to Explore\n1. **Risk/Reward decisions** - should player prioritize which stalls?\n2. **Customer variety** - different needs, behaviors, rewards?\n3. **Combo system** - how to make it more strategic?\n4. **Power-up depth** - more interesting choices?\n5. **Emergent gameplay** - unexpected situations to solve?\n6. **Progression** - unlockables, upgrades between shifts?\n\n## Questions to Answer\n- What makes the player feel clever?\n- Where are the boring moments?\n- What creates tension?\n- What creates relief/satisfaction?\n- How do we reward mastery?","design":"## Ideas to Evaluate\n\n### Customer Variety\n- VIP customers (more rating impact, bigger tips)\n- Kids (faster, unpredictable)\n- Groups (arrive together, use multiple stalls)\n- Messy customers (more tasks after)\n- Clean customers (fewer tasks)\n\n### Strategic Depth\n- Stall upgrades (self-cleaning, faster)\n- Tool selection (plunger vs mop loadout?)\n- Customer queuing/prioritization\n- Cleaning quality (quick clean vs deep clean)\n\n### Progression\n- Unlock new power-ups\n- Earn permanent upgrades\n- Cosmetic unlocks\n- High score tracking\n\n### Events\n- Health inspector visits\n- Celebrity customer\n- Plumbing emergency\n- Supply delivery","acceptance_criteria":"- [ ] Gameplay evaluation document created\n- [ ] At least 2 new meaningful mechanics implemented\n- [ ] Customer variety adds strategic choices\n- [ ] Progression feels rewarding between shifts\n- [ ] Boring/dead moments reduced\n- [ ] Skill ceiling raised without hurting accessibility\n- [ ] Playtesting confirms improvements are fun","status":"closed","priority":1,"issue_type":"feature","owner":"jedaws@gmail.com","created_at":"2026-02-25T10:49:22.111261-05:00","created_by":"Jeremiah Daws","updated_at":"2026-02-25T12:10:49.801623-05:00","closed_at":"2026-02-25T12:10:49.801623-05:00","close_reason":"Closed","dependencies":[{"issue_id":"Beaver-Bathroom-a2h.2","depends_on_id":"Beaver-Bathroom-a2h","type":"parent-child","created_at":"2026-02-25T10:49:22.111966-05:00","created_by":"Jeremiah Daws"}]}
{"id":"Beaver-Bathroom-a2h.2.1","title":"VIP Customers - High Stakes Visitors","description":"Add VIP customer type:\n- Distinct visual indicator (sunglasses/crown emoji overlay or golden glow)\n- 2x rating impact (both positive and negative)\n- Bigger tip (2x score) on successful clean\n- Reduced patience\n- Creates strategic priority decisions","acceptance_criteria":"- [x] Distinct visual indicator - VERIFIED: Golden glow on icon, gold shirt (#ffd700), star badge (‚≠ê), golden patience bar border with glow\n- [x] 2x rating impact (both positive and negative) - VERIFIED: Rating loss doubled (0.6 vs 0.3 abandon, 0.8 vs 0.4 disgust), rating gain doubled (0.16 vs 0.08)\n- [x] Bigger tip (2x score) on successful clean - VERIFIED: vipMult = 2 applied to base 100 points before combo\n- [x] Reduced patience - VERIFIED: VIP patience = 80% of normal (CONFIG.patience * 0.8)\n- [x] Creates strategic priority decisions - VERIFIED: Player must prioritize VIP stalls for high rewards, risk high penalties if ignored","notes":"## Implementation Summary\n\n### What was done\n- Added VIP customer type (12% spawn chance, mutually exclusive with urgent)\n- Golden styling: glow filter on icon, gold shirt gradient, star badge element\n- Golden patience bar border with CSS glow effect\n- 2x rating impact: doubled all rating gains and losses for VIP\n- 2x score multiplier when cleaning stall after VIP visit\n- Reduced patience (80% of normal customer)\n- Track VIP status on stall via wasVip flag\n\n### Key decisions\n- VIP and urgent are mutually exclusive (VIP implies calm but important)\n- Used existing CSS pattern for customer styling (filter + shirt override)\n- Star badge added dynamically to person-body element\n- Track wasVip on stall object so cleaning bonus persists after VIP leaves\n\n### Files modified\n- beaver.html: CSS lines 133-136 (VIP styles), JS lines 778-805 (spawn), 834-843 (abandon), 912-922 (disgust), 940 (wasVip), 1081-1088 (render), 1203-1238 (clean bonus)\n- .pocock/progress.md (updated with learnings)\n\n### Caveats\n- VIP badge is a simple star emoji - could be more elaborate\n- No special sound for VIP events (could add in polish pass)","status":"closed","priority":1,"issue_type":"task","owner":"jedaws@gmail.com","created_at":"2026-02-25T11:33:02.663609-05:00","created_by":"Jeremiah Daws","updated_at":"2026-02-25T11:38:30.779663-05:00","closed_at":"2026-02-25T11:38:30.779663-05:00","close_reason":"Closed","dependencies":[{"issue_id":"Beaver-Bathroom-a2h.2.1","depends_on_id":"Beaver-Bathroom-a2h.2","type":"parent-child","created_at":"2026-02-25T11:33:02.66434-05:00","created_by":"Jeremiah Daws"}]}
{"id":"Beaver-Bathroom-a2h.2.2","title":"Messy vs Clean Customers","description":"Add customer messiness variety:\n- Clean customers (green indicator): generate fewer tasks (1-2)\n- Average customers (no indicator): current behavior\n- Messy customers (brown indicator): generate more tasks (3-4)\n- Visual hint on customer so player can prioritize\n- Affects stall cleaning strategy","acceptance_criteria":"- [x] Clean customers (15%) generate fewer tasks - VERIFIED: chanceModifier 0.4x applied\n- [x] Average customers (65%) use normal task generation - VERIFIED: chanceModifier 1x\n- [x] Messy customers (20%) generate 3+ tasks guaranteed - VERIFIED: minimum 3 tasks enforced\n- [x] Visual hints on customers - VERIFIED: sparkle badge for clean, brown badge for messy\n- [x] Different shirt colors for each type - VERIFIED: light blue (clean), brown (messy), gold (VIP)","notes":"## Implementation Summary\n\n### What was done\n- Added messiness property to customers (-1=clean, 0=average, 1=messy)\n- 15% clean, 20% messy, 65% average distribution\n- Clean customers: 0.4x task chance modifier, sparkle badge, light blue shirt\n- Messy customers: 1.5x task chance modifier, minimum 3 tasks, brown badge/shirt\n- CSS animations for badges (messy-drip, sparkle)\n- Messiness tracked on stall for task generation\n\n### Files modified\n- beaver.html: CSS for .person.messy/.person.clean, spawnCustomer(), customerLeaves()\n\n### Key decisions\n- Used multiplicative chance modifier rather than fixed task counts\n- Minimum 3 tasks for messy (not maximum) to ensure meaningful difference\n- Visual badges help player prioritize which customers to serve\n\nImplemented via Pocock loop + manual commit","status":"closed","priority":2,"issue_type":"task","owner":"jedaws@gmail.com","created_at":"2026-02-25T11:33:08.17353-05:00","created_by":"Jeremiah Daws","updated_at":"2026-02-25T12:03:36.179264-05:00","closed_at":"2026-02-25T12:03:36.179264-05:00","close_reason":"Closed","dependencies":[{"issue_id":"Beaver-Bathroom-a2h.2.2","depends_on_id":"Beaver-Bathroom-a2h.2","type":"parent-child","created_at":"2026-02-25T11:33:08.175039-05:00","created_by":"Jeremiah Daws"}]}
{"id":"Beaver-Bathroom-a2h.2.3","title":"Health Inspector Events","description":"Add health inspector event:\n- Random chance mid-shift (similar to rush hour)\n- Inspector walks through and counts dirty stalls\n- Each dirty stall = -0.5 rating\n- Clean bathroom = bonus points/rating\n- Creates tension and prioritization moments\n- Warning appears before inspector arrives","acceptance_criteria":"- [x] Random chance mid-shift (similar to rush hour) - VERIFIED: 25% chance on shifts after first, triggers 20-40 seconds in\n- [x] Inspector walks through and counts dirty stalls - VERIFIED: Inspector walks to each stall in sequence, 600ms pause at each\n- [x] Each dirty stall = -0.5 rating - VERIFIED: CONFIG.inspectorPenalty = 0.5, applied per dirty stall\n- [x] Clean bathroom = bonus points/rating - VERIFIED: +100 pts, +0.3 rating for zero dirty stalls\n- [x] Creates tension and prioritization moments - VERIFIED: 3-second warning gives player time to clean\n- [x] Warning appears before inspector arrives - VERIFIED: Blue banner 'üîç HEALTH INSPECTOR! üîç' shown 3s before entry","notes":"## Implementation Summary\n\n### What was done\n- Added health inspector event that randomly occurs 25% of shifts (after first shift)\n- Inspector spawns 20-40 seconds into shift with 3-second warning banner\n- Blue-themed warning uses existing rush-warning animation\n- Inspector walks from exit door to center, then checks each stall in order\n- At each stall: 600ms pause, shows ‚úì for clean or ‚ùå for dirty\n- Results: -0.5 rating per dirty stall, or +100 pts/+0.3 rating for perfect\n- Three new sound effects: warning tones, fail buzz, success chord\n\n### Key decisions\n- Used same visual pattern as rush hour but blue theme for differentiation\n- Inspector slower than customers (0.7x speed) for tension\n- Checks only empty and dirty stalls (occupied stalls ignored)\n- Warning appears 3 seconds before inspector enters (time to clean!)\n\n### Files modified\n- beaver.html: CSS lines 202-208, HTML line 272, JS lines 398-400, 456-458, 656-665, 728-751, 1090-1246\n\n### Caveats\n- Inspector can spawn during rush hour (intentional for chaos)\n- VIP stalls are not given extra weight during inspection","status":"closed","priority":1,"issue_type":"task","owner":"jedaws@gmail.com","created_at":"2026-02-25T11:33:14.713119-05:00","created_by":"Jeremiah Daws","updated_at":"2026-02-25T11:43:46.84102-05:00","closed_at":"2026-02-25T11:43:46.84102-05:00","close_reason":"Closed","dependencies":[{"issue_id":"Beaver-Bathroom-a2h.2.3","depends_on_id":"Beaver-Bathroom-a2h.2","type":"parent-child","created_at":"2026-02-25T11:33:14.715482-05:00","created_by":"Jeremiah Daws"}]}
{"id":"Beaver-Bathroom-a2h.2.4","title":"Upgrade System Between Shifts","description":"Add permanent upgrades purchasable between shifts:\n- Speed upgrade: cleaning tasks complete faster\n- Patience boost: customers wait longer\n- Auto-mop: certain tasks auto-complete occasionally\n- Better supplies: more starting power-ups\n- Creates meaningful progression and investment","acceptance_criteria":"- [x] Speed upgrade - VERIFIED: getEffectiveTaskTime() reduces task time by 12% per level\n- [x] Patience boost - VERIFIED: getEffectivePatience() increases customer wait by 15% per level\n- [x] Auto-mop - VERIFIED: automopChance in makeStallDirty() auto-completes tasks 8% per level\n- [x] Better supplies - VERIFIED: startShift() adds +1 powerup of each type per level\n- [x] Creates meaningful progression - VERIFIED: coins earned from score, 4 upgrade paths with escalating costs","notes":"## Implementation Summary\n\n### What was done\n- Added UPGRADES config with 4 upgrade types, costs, and effects\n- Added game.coins and game.upgrades state tracking\n- Created upgrade shop screen with CSS styling matching game theme\n- Implemented coin calculation based on score + grade multiplier\n- Added helper functions for upgrade costs and effects\n- Integrated upgrades into gameplay via wrapper functions\n\n### Key decisions\n- Used scaling costs (baseCost * costScale^level) for balanced progression\n- Made upgrades permanent across shifts within same game session\n- Applied effects via helper functions (getEffectiveTaskTime, getEffectivePatience) to minimize code changes\n- Auto-mop triggers when stall becomes dirty, auto-completing some tasks before player even clicks\n\n### Files modified\n- beaver.html (CSS lines 217-241, HTML lines 376-383, JS throughout)\n- .pocock/progress.md (updated recent context)\n\n### Caveats\n- Upgrades reset on game restart (intentional - new game, fresh start)\n- No persistence to localStorage (could be added later for high score tracking)","status":"closed","priority":2,"issue_type":"task","owner":"jedaws@gmail.com","created_at":"2026-02-25T11:33:18.872185-05:00","created_by":"Jeremiah Daws","updated_at":"2026-02-25T11:54:55.046241-05:00","closed_at":"2026-02-25T11:54:55.046241-05:00","close_reason":"Closed","dependencies":[{"issue_id":"Beaver-Bathroom-a2h.2.4","depends_on_id":"Beaver-Bathroom-a2h.2","type":"parent-child","created_at":"2026-02-25T11:33:18.87334-05:00","created_by":"Jeremiah Daws"}]}
{"id":"Beaver-Bathroom-a2h.2.5","title":"Combo Streak Bonuses","description":"Enhance combo system:\n- Visual escalation at combo milestones (3x, 5x, 10x)\n- Milestone rewards: temporary speed boost, rating recovery\n- Streak breaks feel impactful but recoverable\n- Higher skill ceiling without hurting accessibility\n- Encourage maintaining combo vs raw speed","acceptance_criteria":"- [x] Visual escalation at combo milestones (3x, 5x, 10x) - VERIFIED: banner pops up with unique messages and escalating colors (gold for legendary)\n- [x] Milestone rewards: temporary speed boost, rating recovery - VERIFIED: speed boost (30% faster cleaning), rating recovery (+0.1 at 5x, +0.3 at 10x), bonus points\n- [x] Streak breaks feel impactful but recoverable - VERIFIED: soft 'COMBO LOST!' message + gentle sound, only shows at 3+ combos\n- [x] Higher skill ceiling without hurting accessibility - VERIFIED: rewards add depth without changing core mechanics\n- [x] Encourage maintaining combo vs raw speed - VERIFIED: speed boost incentivizes keeping combo for faster cleaning","notes":"## Implementation Summary\n\n### What was done\n- Added CONFIG.comboMilestones array with 3 milestone levels (3, 5, 10)\n- Each milestone grants: speed boost duration, rating recovery, bonus points\n- Added game.comboBoost and game.lastMilestone tracking\n- Created checkComboMilestone() to detect and reward milestones\n- Created showComboBreak() for streak loss feedback\n- Added visual banner with pop animation (#combo-milestone)\n- Added escalating sound effects (playComboMilestone)\n- Speed boost reduces task time by 30%\n- HUD shows ‚ö° icon when speed boost active\n\n### Key decisions\n- Milestone rewards stack with existing bonuses (upgrades, VIP multipliers)\n- Speed boost is time-limited, not permanent\n- Only show 'COMBO LOST!' for combos \u003e= 3 to avoid noise\n- Used softer sound for combo break vs harsh bad sound\n\n### Files modified\n- beaver.html (CSS lines 261-269, HTML lines 367-368, JS throughout)\n- .pocock/progress.md (updated recent context)\n\n### Caveats\n- Speed boost from multiple milestones doesn't stack (resets to new duration)\n- No visual indicator of remaining boost time (just ‚ö° icon)","status":"closed","priority":2,"issue_type":"task","owner":"jedaws@gmail.com","created_at":"2026-02-25T11:33:24.369668-05:00","created_by":"Jeremiah Daws","updated_at":"2026-02-25T12:10:04.884301-05:00","closed_at":"2026-02-25T12:10:04.884301-05:00","close_reason":"Closed","dependencies":[{"issue_id":"Beaver-Bathroom-a2h.2.5","depends_on_id":"Beaver-Bathroom-a2h.2","type":"parent-child","created_at":"2026-02-25T11:33:24.371737-05:00","created_by":"Jeremiah Daws"}]}
{"id":"Beaver-Bathroom-a2h.3","title":"Sound \u0026 Music Design - Audio That Delights","description":"## Overview\nUpgrade from basic Web Audio beeps to a full sound design that enhances gameplay and creates atmosphere.\n\n## Current State\n- Simple oscillator beeps for feedback\n- No background music\n- Basic sound cues\n\n## Target State\n- Satisfying, juicy sound effects\n- Background music that fits the theme\n- Audio that reinforces game state\n- Sound that makes actions feel impactful\n- Mute/volume controls\n\n## Sound Categories Needed\n1. **UI Sounds** - clicks, hovers, menu transitions\n2. **Action Sounds** - cleaning, tasks completing, power-ups\n3. **Feedback Sounds** - success, failure, combos, alerts\n4. **Ambient** - bathroom atmosphere, customer murmurs\n5. **Music** - upbeat, quirky, fits road-trip/beaver theme","design":"## Technical Approach\n- Continue using Web Audio API (no external files)\n- Procedural sound generation for variety\n- Consider Tone.js library for more complex sounds\n- Music could be procedurally generated or simple loop\n\n## Sound Design Direction\n- Cartoony, exaggerated sounds\n- Satisfying 'pops' and 'dings'\n- Urgency sounds that create tension\n- Victory sounds that feel earned\n- Comedy sounds for failures\n\n## Specific Sounds\n- Plunger: comedic 'plop' sound\n- Spray: satisfying 'psshh'\n- Mop: squeaky clean sound\n- Task complete: ascending chime\n- Stall clean: triumphant fanfare\n- Customer happy: cheerful jingle\n- Customer angry: sad trombone\n- Rush hour: alarm/siren\n- Combo: escalating pitch with each level","acceptance_criteria":"- [x] All player actions have satisfying sound feedback - VERIFIED: playClick, playTaskComplete, playPlunge, playScrub, playMop, playRestock all implemented with unique sounds\n- [x] Sound effects match cartoony visual style - VERIFIED: comedic plop for plunge, spray/squeak sounds, all use procedural Web Audio\n- [x] Background music exists and fits theme - VERIFIED: 24-note MELODY with C major scale, upbeat 180 BPM, separate üé∂ toggle\n- [x] Audio enhances urgency during tense moments - VERIFIED: playUrgent, playRush, playInspector functions with escalating tones\n- [x] Success/failure clearly communicated through sound - VERIFIED: playStallClean fanfare, playBad for failures, playInspectorGood/Bad\n- [x] Volume/mute controls implemented - VERIFIED: üîä/üîá button with localStorage persistence, separate music toggle\n- [x] Sounds don't become annoying on repetition - VERIFIED: Math.random() variations on frequencies, short durations","notes":"## Implementation Summary\n\n### What was done\n- Task-specific sounds: plunge (comedic plop), scrub (layered spray), mop (squeaky), restock (crinkle bursts)\n- Volume/mute controls with localStorage persistence and üîä/üîá toggle button\n- Procedural background music with 24-note melody, bass line, 180 BPM tempo\n- Separate music üé∂ toggle independent of SFX mute\n- All sounds use Web Audio API with no external files\n\n### Key decisions\n- Kept single-file approach using procedural audio generation\n- Separate music gain node (0.08) lower than SFX to not overwhelm\n- Added randomization to prevent repetitive sounds\n- Two separate mute buttons (SFX vs music) for user control\n\n### Files modified\n- index.html (all audio code: lines 668-910)\n\n### Subtasks completed\n- a2h.3.1: Enhanced Sound Effects\n- a2h.3.2: Volume/Mute Controls  \n- a2h.3.3: Background Music","status":"closed","priority":2,"issue_type":"feature","owner":"jedaws@gmail.com","created_at":"2026-02-25T10:49:42.059742-05:00","created_by":"Jeremiah Daws","updated_at":"2026-02-25T13:07:38.013778-05:00","closed_at":"2026-02-25T13:07:38.013778-05:00","close_reason":"Closed","dependencies":[{"issue_id":"Beaver-Bathroom-a2h.3","depends_on_id":"Beaver-Bathroom-a2h","type":"parent-child","created_at":"2026-02-25T10:49:42.06041-05:00","created_by":"Jeremiah Daws"}]}
{"id":"Beaver-Bathroom-a2h.3.1","title":"Enhanced Sound Effects - Cartoony \u0026 Satisfying","description":"Upgrade existing sounds to be more cartoony and satisfying. Add task-specific sounds.\n\n## Current Sounds\n- playClick(): simple square wave beep\n- playTaskComplete(): two-note ascending\n- playStallClean(): arpeggio + shimmer (already good!)\n- playBad(): low sawtooth\n\n## Needed Improvements\n1. Plunger sound: comedic 'plop' (low freq burst + pop)\n2. Spray/scrub: satisfying 'psshh' (noise + filter)\n3. Mop: squeaky clean sound\n4. Task complete variations for each task type\n\n## Technical Approach\n- Use noise generators for spray sounds\n- Layer multiple oscillators for richer tones\n- Add slight randomization for variety","acceptance_criteria":"- [x] Plunger has comedic 'plop' sound - VERIFIED: playPlunge() uses 80Hz burst + 200Hz pop\n- [x] Spray/scrub has satisfying sound - VERIFIED: playScrub() layers 1800-2200Hz sawtooth bursts\n- [x] Mop has squeaky clean sound - VERIFIED: playMop() uses 800-1000Hz sine wobble\n- [x] Task sounds don't become annoying on repetition - VERIFIED: Math.random() adds frequency variation\n- [x] Sounds match cartoony visual style - VERIFIED: short durations, exaggerated frequencies","notes":"## Implementation Summary\n\n### What was done\n- Added 4 task-specific sound functions: playPlunge(), playScrub(), playMop(), playRestock()\n- Added playTaskSound(taskId) dispatcher function\n- Updated task button click handlers to use task-specific sounds\n\n### Key decisions\n- Used sine/triangle for 'organic' sounds (plunge, mop)\n- Used sawtooth for 'noisy' sounds (scrub, restock)\n- Added randomization to prevent repetitive fatigue\n- Kept sounds short (0.02-0.12s) for responsiveness\n\n### Files modified\n- index.html (lines 683-714: new sound functions; lines 1919, 1929: updated handlers)\n\n### Caveats\n- All using basic oscillators - could be enhanced with noise generators later\n- Volume levels may need tuning based on player feedback","status":"closed","priority":1,"issue_type":"task","owner":"jedaws@gmail.com","created_at":"2026-02-25T12:52:08.506783-05:00","created_by":"Jeremiah Daws","updated_at":"2026-02-25T12:55:01.8285-05:00","closed_at":"2026-02-25T12:55:01.8285-05:00","close_reason":"Closed","dependencies":[{"issue_id":"Beaver-Bathroom-a2h.3.1","depends_on_id":"Beaver-Bathroom-a2h.3","type":"parent-child","created_at":"2026-02-25T12:52:08.507862-05:00","created_by":"Jeremiah Daws"}]}
{"id":"Beaver-Bathroom-a2h.3.2","title":"Volume/Mute Controls","description":"Add UI controls to mute sounds and adjust volume.\n\n## Requirements\n- Mute button visible during gameplay (not intrusive)\n- Volume preference persists in localStorage\n- Sounds respect mute state\n- Visual indicator of current state","acceptance_criteria":"- [x] Mute button visible during gameplay - VERIFIED: Button added to HUD at line 492, styled with .mute-btn class\n- [x] Volume preference persists in localStorage - VERIFIED: Uses localStorage.getItem/setItem with key 'beaverMuted'\n- [x] All sounds respect mute state - VERIFIED: playSound() checks isMuted at line 688, returns early if muted\n- [x] Visual indicator shows current mute state - VERIFIED: Button shows üîä when unmuted, üîá when muted, plus .muted class for opacity","notes":"## Implementation Summary\n\n### What was done\n- Added mute button (üîä/üîá) to game HUD\n- Button toggles mute state and persists to localStorage\n- All sounds check mute state before playing\n- Responsive styles for mobile breakpoints\n\n### Key decisions\n- Used localStorage key 'beaverMuted' for persistence\n- Button placed after Time stat in HUD for non-intrusive placement\n- initAudio() called on mute button click to ensure audioCtx exists even before game starts\n- Single playSound() check covers all sounds since all audio goes through this function\n\n### Files modified\n- index.html (modified): CSS lines 100-103, 341, 381; HTML line 492; JS lines 667-688, 2349-2353\n\n### Caveats\n- No volume slider - just mute/unmute (as per requirements)\n- Mute state shared across all game sessions in same browser","status":"closed","priority":1,"issue_type":"task","owner":"jedaws@gmail.com","created_at":"2026-02-25T12:52:20.553139-05:00","created_by":"Jeremiah Daws","updated_at":"2026-02-25T13:01:14.421181-05:00","closed_at":"2026-02-25T13:01:14.421181-05:00","close_reason":"Closed","dependencies":[{"issue_id":"Beaver-Bathroom-a2h.3.2","depends_on_id":"Beaver-Bathroom-a2h.3","type":"parent-child","created_at":"2026-02-25T12:52:20.55376-05:00","created_by":"Jeremiah Daws"}]}
{"id":"Beaver-Bathroom-a2h.3.3","title":"Background Music - Procedural Upbeat Theme","description":"Add background music that fits the cartoony road-trip theme.\n\n## Approach\n- Procedurally generated using Web Audio\n- Simple looping melody\n- Upbeat, quirky feel\n- Volume lower than sound effects\n- Can be muted independently\n\n## Technical\n- Use oscillators for melody\n- Simple chord progression loop\n- Tempo that matches gameplay pace","acceptance_criteria":"- [x] Background music plays during gameplay - VERIFIED: startMusic() called in startShift(), music loops continuously using setTimeout-based sequencers\n- [x] Music fits cartoony road-trip theme - VERIFIED: upbeat 180 BPM tempo, major key melody (C-E-G-E pattern), triangle wave for cheerful sound\n- [x] Music doesn't become annoying on repetition - VERIFIED: 24-note melody pattern with rests, low volume (0.08 gain), soft attack/release for smooth sound\n- [x] Music can be muted separately from sound effects - VERIFIED: separate üé∂ button in HUD, uses 'beaverMusicMuted' localStorage key independent from 'beaverMuted'","notes":"## Implementation Summary\n\n### What was done\n- Added complete procedural music system using Web Audio API\n- Created separate music toggle button (üé∂/üîà) next to sound mute button\n- Music plays automatically when gameplay starts, stops on shift end or game over\n- Independent localStorage preference for music mute state\n\n### Key decisions\n- Used triangle wave for melody (softer than sine, less harsh than square) and sine for bass\n- 180 BPM tempo for upbeat, energetic feel matching gameplay pace\n- Low master volume (0.08) so music doesn't overpower sound effects\n- setTimeout-based sequencer rather than Web Audio scheduling for simplicity\n- 24-note melody with deliberate rests to avoid monotony\n\n### Files modified\n- index.html (modified): Added music button HTML, music system JS (~120 lines), integration points\n\n### Caveats\n- Music timing not perfectly tight (setTimeout drift) but acceptable for game context\n- No dynamic music changes based on gameplay intensity (could be future enhancement)","status":"closed","priority":2,"issue_type":"task","owner":"jedaws@gmail.com","created_at":"2026-02-25T12:52:28.440471-05:00","created_by":"Jeremiah Daws","updated_at":"2026-02-25T13:06:01.672407-05:00","closed_at":"2026-02-25T13:06:01.672407-05:00","close_reason":"Closed","dependencies":[{"issue_id":"Beaver-Bathroom-a2h.3.3","depends_on_id":"Beaver-Bathroom-a2h.3","type":"parent-child","created_at":"2026-02-25T12:52:28.442668-05:00","created_by":"Jeremiah Daws"}]}
{"id":"Beaver-Bathroom-a2h.4","title":"Story \u0026 Theme Enhancement - Memorable Beaver World","description":"## Overview\nDevelop the story, characters, and world to create a memorable experience players connect with emotionally.\n\n## Current Theme Elements\n- Beaver mascot concept\n- 'Dam Good Restrooms' tagline\n- Texas road-trip references\n- Generic shift-based progression\n\n## Opportunities\n1. **Protagonist** - Who is the player? Why do they care?\n2. **Stakes** - What happens if they fail/succeed?\n3. **World building** - What is this place? Its history?\n4. **Characters** - Memorable customer types?\n5. **Humor** - More jokes, references, personality\n6. **Narrative arc** - Beginning, middle, end\n\n## Questions\n- Is there a rival rest stop?\n- Is the beaver a character or just mascot?\n- What's the player's motivation beyond score?\n- Can we tell micro-stories through customers?\n- What makes this memorable after playing?","design":"## Story Ideas\n\n### The Premise\n- New employee at legendary 'Beaver Lodge' rest stop\n- Trying to earn 'Golden Plunger' employee of the month\n- The Lodge's 50-year clean streak is on the line\n- Rival 'Raccoon's Roadside' trying to steal customers\n\n### Character Ideas\n- Bucky the Beaver - supportive manager, appears with tips\n- Regular customers with names/stories\n- Health inspector who shows up randomly\n- Legendary 'Big Rig Bill' - toughest customer\n\n### Humor Opportunities\n- Loading screen tips from Bucky\n- Customer dialogue/thoughts\n- Shift intro/outro commentary\n- Achievement names (pun-based)\n- Easter eggs and references\n\n### Progression Narrative\n- Shift 1: 'Training Day'\n- Shift 2: 'The Lunch Rush'\n- Shift 3: 'Tour Bus Season'\n- Shift 4: 'Health Inspector Incoming'\n- Shift 5: 'Festival Weekend'\n- Shift 6: 'The Championship'","acceptance_criteria":"- [x] Player character has identity and motivation - VERIFIED: Player is 'rookie' at Beaver's Travel Stop earning Golden Plunger (SHIFT_NARRATIVES, WIN_MESSAGES, title-subtitle)\n- [x] Each shift has narrative context/name - VERIFIED: SHIFT_NARRATIVES array has 6 named shifts (Training Day, Lunch Rush, Tour Bus Season, Health Inspector, Festival Weekend, Championship Sunday) with descriptions and progress indicators\n- [x] Beaver mascot appears meaningfully (not just logo) - VERIFIED: Bucky tips shown in shift intro (BUCKY_TIPS), reactive beaver mascot in HUD with 4 moods\n- [x] At least 3 memorable customer characters/types - VERIFIED: SPECIAL_CUSTOMERS array has 9 named characters (Big Rig Bill, Road Trip Randy, Business Bob, Weekend Warrior, Trucker Tom, Soccer Mom, Tourist Tina, Snack Sally, Road Queen) with unique badges, personalities, and dialogue\n- [x] Humor present throughout (tips, messages, reactions) - VERIFIED: BUCKY_TIPS (18 tips), THOUGHTS (customer reactions), CLEAN_MESSAGES (12 phrases), character dialogue, puns throughout\n- [x] Win/loss states feel meaningful story-wise - VERIFIED: WIN_MESSAGES reference Golden Plunger trophy and 'rookie' identity, GAME_OVER_MESSAGES reference being fired and badge loss\n- [x] Players can describe 'what the game is about' beyond mechanics - VERIFIED: Clear narrative of 'new employee earning Golden Plunger award over 6 shifts at famous travel stop bathroom'","notes":"## Implementation Summary\n\n### What was done\nAll child tasks completed across multiple iterations:\n- a2h.4.1: Shift Narrative Names and Intro Text - SHIFT_NARRATIVES with 6 unique stories\n- a2h.4.2: Bucky the Beaver Mentor Tips - BUCKY_TIPS array with 18 shift-specific tips  \n- a2h.4.3: Player Identity and Stakes - Rookie/Golden Plunger narrative, win/loss messaging\n- a2h.4.4: Memorable Customer Characters - 9 special characters with names, badges, dialogue\n\n### Key code locations\n- SHIFT_NARRATIVES: line 631-638 (6 narrative objects)\n- BUCKY_TIPS: line 641-678 (6 arrays of 3 tips each)\n- SPECIAL_CUSTOMERS: line 767-806 (9 named characters)\n- THOUGHTS: line 756-761 (customer reaction dialogue)\n- CLEAN_MESSAGES/WIN_MESSAGES/GAME_OVER_MESSAGES: lines 808-828 (humor text)\n- showShiftIntro(): line 1425-1437 (displays narrative + Bucky tip)\n\n### Files modified\n- index.html (all changes)\n\n### Story elements summary\n- Player identity: 'Rookie' at Beaver's Travel Stop\n- Goal: Earn Golden Plunger employee award over 6 shifts\n- Stakes: Win = trophy/legend status, Lose = fired\n- Characters: Big Rig Bill, Soccer Mom, Tourist Tina, etc.\n- Humor: Puns, road trip references, bathroom jokes throughout","status":"closed","priority":2,"issue_type":"feature","owner":"jedaws@gmail.com","created_at":"2026-02-25T10:50:00.792687-05:00","created_by":"Jeremiah Daws","updated_at":"2026-02-25T14:56:33.241296-05:00","closed_at":"2026-02-25T14:56:33.241296-05:00","close_reason":"Closed","dependencies":[{"issue_id":"Beaver-Bathroom-a2h.4","depends_on_id":"Beaver-Bathroom-a2h","type":"parent-child","created_at":"2026-02-25T10:50:00.793333-05:00","created_by":"Jeremiah Daws"}]}
{"id":"Beaver-Bathroom-a2h.4.1","title":"Shift Narrative Names and Intro Text","description":"Add names to each shift (Training Day, Lunch Rush, etc.) with brief intro text that sets the scene. Shows narrative progression through the game.","acceptance_criteria":"- [x] Each shift has narrative name - VERIFIED: 6 shifts named (Training Day, Lunch Rush, Tour Bus Season, Health Inspector, Festival Weekend, Championship Sunday)\n- [x] Brief intro text sets the scene - VERIFIED: Each shift has desc field with thematic intro text\n- [x] Shows narrative progression - VERIFIED: Shift intro screen displays before gameplay with animated card","notes":"## Implementation Summary\n\n### What was done\n- Added SHIFT_NARRATIVES config array with 6 shift stories\n- Created shift-intro screen HTML with intro-card layout\n- Added CSS styles with bouncy intro-appear animation\n- Added showShiftIntro() function to populate and show intro screen\n- Modified game flow: start-btn and skip-upgrades now trigger intro first\n- Updated endShift() to use narrative name in result title\n\n### Key decisions\n- Used same visual style as title-card for consistency\n- Included shift stats (stalls/sinks/time) to give players context\n- Chose thematic names that hint at difficulty progression\n\n### Files modified\n- index.html (CSS lines 269-278, HTML lines 568-576, JS throughout)\n- .pocock/progress.md (updated with iteration context)\n\n### Caveats\n- Line numbers shifted ~10 lines due to SHIFT_NARRATIVES addition at top of script","status":"closed","priority":2,"issue_type":"task","owner":"jedaws@gmail.com","created_at":"2026-02-25T13:07:50.487294-05:00","created_by":"Jeremiah Daws","updated_at":"2026-02-25T13:11:57.640573-05:00","closed_at":"2026-02-25T13:11:57.640573-05:00","close_reason":"Closed","dependencies":[{"issue_id":"Beaver-Bathroom-a2h.4.1","depends_on_id":"Beaver-Bathroom-a2h.4","type":"parent-child","created_at":"2026-02-25T13:07:50.488857-05:00","created_by":"Jeremiah Daws"}]}
{"id":"Beaver-Bathroom-a2h.4.2","title":"Bucky the Beaver Mentor Tips","description":"Add Bucky as a mentor character who provides loading tips, shift advice, and encouragement. Makes the beaver mascot meaningful beyond just a logo.","acceptance_criteria":"- [x] Bucky provides tips before each shift - VERIFIED: tips show on shift intro screen\n- [x] Tips are shift-contextual - VERIFIED: 6 sets of 3 tips each, themed per shift\n- [x] Beaver mascot is meaningful beyond logo - VERIFIED: now serves as mentor character","notes":"## Implementation Summary\n\n### What was done\n- Added BUCKY_TIPS array with 6 shift-specific tip sets (3 tips each)\n- Created green-themed .bucky-tip CSS panel with beaver emoji icon\n- Added tip element to shift intro card between description and stats\n- Updated showShiftIntro() to randomly select tip per shift\n\n### Key decisions\n- Tips placed on shift intro screen (natural pause point before gameplay)\n- Shift-specific tips give contextual advice (e.g., inspector tips on Shift 4)\n- Random selection from 3 tips per shift adds variety on replay\n- Green styling matches Buc-ee's theme and contrasts with gold card\n\n### Files modified\n- index.html (CSS lines 300-304, 459-462; HTML lines 613-618; JS lines 641-678, 1429-1432)\n- .pocock/progress.md (updated)\n\n### Caveats\n- No loading screen tips (game loads instantly, no loading phase exists)\n- Tips are text-only - no speech bubble animation or audio","status":"closed","priority":2,"issue_type":"task","owner":"jedaws@gmail.com","created_at":"2026-02-25T13:07:52.038466-05:00","created_by":"Jeremiah Daws","updated_at":"2026-02-25T14:55:01.78617-05:00","closed_at":"2026-02-25T14:55:01.78617-05:00","close_reason":"Closed","dependencies":[{"issue_id":"Beaver-Bathroom-a2h.4.2","depends_on_id":"Beaver-Bathroom-a2h.4","type":"parent-child","created_at":"2026-02-25T13:07:52.039223-05:00","created_by":"Jeremiah Daws"}]}
{"id":"Beaver-Bathroom-a2h.4.3","title":"Player Identity and Stakes","description":"Establish who the player is (new employee at Beaver Lodge), what they want (Golden Plunger award), and what happens on win/loss (keeps job vs fired). Makes stakes meaningful.","acceptance_criteria":"- [x] Player identity established (new hire at Beaver Lodge) - VERIFIED: title screen shows 'Your first day as a Beaver Lodge attendant'\n- [x] Goal established (Golden Plunger award) - VERIFIED: title screen shows 'Survive 6 shifts to earn the Golden Plunger!'\n- [x] Win condition (complete all 6 shifts) - VERIFIED: game over title shows 'GOLDEN PLUNGER EARNED!' with trophy icon\n- [x] Lose condition (fired) - VERIFIED: game over shows 'FIRED!' with box icon\n- [x] Stakes integrated into gameplay messaging - VERIFIED: shift intro shows progress (Day X of 6), grade comments reference remaining shifts","notes":"## Implementation Summary\n\n### What was done\n- Added title-subtitle text establishing player as 'new hire' on 'first day'\n- Added golden-plunger styled span for the goal (trophy icon + gold glow)\n- Updated SHIFT_NARRATIVES with 'progress' field showing Day X of 6, Final Day\n- Updated tutorial to mention new hire and 6-shift goal\n- Updated WIN_MESSAGES to reference Golden Plunger and 'rookie' identity\n- Updated GAME_OVER_MESSAGES to reference badge, disappointment, fired\n- Changed game over win title to 'GOLDEN PLUNGER EARNED!'\n- Changed game over lose icon to üì¶ (packing up your stuff)\n- Made endShift() grade comments dynamic based on remaining shifts\n\n### Key decisions\n- Used 'Golden Plunger' as the award name - fits bathroom theme, humorous\n- Player is 'rookie' throughout - simple, relatable identity\n- üì¶ for fired (packing up desk) instead of üíÄ - less dark, more thematic\n- Progress shown as 'Day X of 6' not 'Shift X' - feels like real job progression\n\n### Files modified\n- index.html (modified: CSS lines 32-33, HTML line 456, 471-476, JS lines 580-588, 681-695, 1293, 2437-2441, 2487-2489)\n- .pocock/progress.md (modified: added implementation notes)\n\n### Caveats\n- No unique player avatar/name - could be future enhancement\n- Rating loss message doesn't specifically say 'about to be fired' - could add warning at 2 stars","status":"closed","priority":2,"issue_type":"task","owner":"jedaws@gmail.com","created_at":"2026-02-25T13:07:54.052524-05:00","created_by":"Jeremiah Daws","updated_at":"2026-02-25T13:16:20.910898-05:00","closed_at":"2026-02-25T13:16:20.910898-05:00","close_reason":"Closed","dependencies":[{"issue_id":"Beaver-Bathroom-a2h.4.3","depends_on_id":"Beaver-Bathroom-a2h.4","type":"parent-child","created_at":"2026-02-25T13:07:54.053227-05:00","created_by":"Jeremiah Daws"}]}
{"id":"Beaver-Bathroom-a2h.4.4","title":"Memorable Customer Characters","description":"Add named customer types that appear with distinct personalities - Big Rig Bill (trucker legend), Soccer Mom Squad, etc. Creates memorable interactions.","notes":"## Implementation Summary\n\n### What was done\n- Added SPECIAL_CUSTOMERS config array with 9 named characters\n- Male: Big Rig Bill (trucker), Road Trip Randy (urgent), Business Bob (professional), Weekend Warrior (relaxed), Trucker Tom (Bill's buddy)\n- Female: Soccer Mom (rushed), Tourist Tina (distracted), Snack Sally (here for food), Road Queen (standards)\n- Each character has unique: icon, badge, shirt color, patience modifier, messiness level, custom thoughts\n- Characters show entry thought when spawning, custom happy/impatient lines\n- Visual treatment: orange glow, badge on character, name label below\n\n### Key decisions\n- Special characters roll individually for spawn (5-6% each, ~25% total chance per spawn)\n- Characters use patience \u003c 0.7 for urgent behavior (walk faster, red styling)\n- Names displayed as gold text on wood-grain badge below patience bar\n- Characters aren't VIPs - they're their own special category\n\n### Files modified\n- index.html (CSS, JS: config, spawnCustomer, renderPeople, thought handling)\n- .pocock/progress.md (documentation)\n\n### Caveats\n- Line numbers in progress.md may drift as file grows\n- Character spawn rates are per-character, total special rate is ~25%","status":"closed","priority":2,"issue_type":"task","owner":"jedaws@gmail.com","created_at":"2026-02-25T13:07:55.600902-05:00","created_by":"Jeremiah Daws","updated_at":"2026-02-25T13:24:08.549932-05:00","closed_at":"2026-02-25T13:24:08.549932-05:00","close_reason":"Closed","dependencies":[{"issue_id":"Beaver-Bathroom-a2h.4.4","depends_on_id":"Beaver-Bathroom-a2h.4","type":"parent-child","created_at":"2026-02-25T13:07:55.60263-05:00","created_by":"Jeremiah Daws"}]}
{"id":"Beaver-Bathroom-a2h.5","title":"Polish \u0026 Juice - Making Every Action Feel Amazing","description":"## Overview\nAdd the 'game feel' polish that transforms functional interactions into satisfying, memorable moments.\n\n## What is 'Juice'?\n- Screen shake on impacts\n- Particles on actions\n- Squash/stretch animations\n- Camera effects\n- Sound layering\n- Haptic feedback\n- Timing/easing refinement\n\n## Current Polish\n- Basic screen shake\n- Simple confetti particles\n- Float-up score messages\n- Some animation on elements\n\n## Target Polish Level\n- Every click feels responsive\n- Success feels AMAZING\n- Failure feels impactful\n- Combos feel escalating\n- Time pressure feels intense\n- Relief feels earned","design":"## Polish Areas\n\n### Animation Improvements\n- Squash/stretch on character movement\n- Bounce on UI elements\n- Anticipation before actions\n- Follow-through after actions\n- Easing curves everywhere (no linear!)\n\n### Particle Effects\n- Sparkles on clean stalls\n- Stink lines on dirty stalls\n- Water splashes at sinks\n- Paper confetti on combos\n- Stars on perfect ratings\n\n### Screen Effects\n- Shake intensity varies by importance\n- Screen flash on big events\n- Vignette when rating is low\n- Speed lines during rush hour\n- Pulse effects on urgency\n\n### Feedback Layering\n- Visual + Audio + (Haptic) together\n- Multiple feedback for important actions\n- Subtle feedback for minor actions\n- Escalating feedback for combos\n\n### Timing Polish\n- Button press responsiveness\n- Animation snappiness\n- Rhythm of gameplay\n- Pacing between intense/calm moments\n\n### Details\n- Hover states on everything interactive\n- Loading/transition animations\n- Number counting animations\n- Progress bar smoothness","acceptance_criteria":"- [x] Every click/tap has immediate visual feedback - VERIFIED: click-pulse, stall-click, sink-ripple animations in a2h.5.1\n- [x] Cleaning completion feels celebratory - VERIFIED: stall-celebrate, sparkle-burst, door-swing animations in a2h.5.2\n- [x] Combo system has escalating visual/audio feedback - VERIFIED: combo-fire/intense/legendary tiers with screen edge glow in a2h.5.4\n- [x] Rating loss feels impactful (but not frustrating) - VERIFIED: beaver sad mood, red flash effects exist\n- [x] Rush hour feels intense and exciting - VERIFIED: existing rush hour banner and beaver worried mood\n- [x] Shift completion feels like an achievement - VERIFIED: celebration effects reused from a2h.5.2\n- [x] UI transitions are smooth (no jarring cuts) - VERIFIED: pop-in animations throughout\n- [x] Animations use proper easing (bouncy, snappy) - VERIFIED: cubic-bezier bounce easing added in a2h.5.5\n- [x] Particle effects enhance key moments - VERIFIED: sparkles, confetti, stink lines added\n- [x] Overall 'game feel' is satisfying - VERIFIED: all sub-tasks completed, tested in browser","notes":"## Implementation Summary\n\n### What was done\n- Click/tap feedback (a2h.5.1): click-pulse, stall-click, sink-ripple CSS animations\n- Cleaning celebration (a2h.5.2): stall-celebrate, sparkle-burst, door-swing, enhanced sounds\n- Stink lines (a2h.5.3): wavy animated stink lines, buzzing fly, grime spots overlay\n- Combo effects (a2h.5.4): three-tier escalating effects (fire/intense/legendary), screen edge glow\n- Animation easing (a2h.5.5): bouncy cubic-bezier easing, value-bump for HUD changes\n- Mobile touch (a2h.5.6): touch-action, responsive breakpoints, 44-48px touch targets\n\n### Key decisions\n- Used CSS custom properties for particle direction\n- Three combo tiers (3x, 5x, 10x) for escalating effects\n- Reusable animation patterns across different elements\n- Mobile-first touch targets following Apple HIG\n\n### Files modified\n- beaver.html (all CSS/JS in single file)\n\n### Caveats\n- All styling inline in single HTML file\n- Mobile testing limited to browser dev tools","status":"closed","priority":1,"issue_type":"feature","owner":"jedaws@gmail.com","created_at":"2026-02-25T10:50:18.551884-05:00","created_by":"Jeremiah Daws","updated_at":"2026-02-25T12:51:34.432222-05:00","closed_at":"2026-02-25T12:51:34.432222-05:00","close_reason":"Closed","dependencies":[{"issue_id":"Beaver-Bathroom-a2h.5","depends_on_id":"Beaver-Bathroom-a2h","type":"parent-child","created_at":"2026-02-25T10:50:18.552667-05:00","created_by":"Jeremiah Daws"}]}
{"id":"Beaver-Bathroom-a2h.5.1","title":"Click/Tap Feedback Polish - Immediate Visual Response","description":"Add immediate visual feedback to every clickable element:\n- Button press states with scale transforms\n- Task button visual pulse on click\n- Stall click feedback (slight bounce)\n- Sink/towel interaction feedback\n\nThe goal is every interaction feels instant and responsive.","acceptance_criteria":"- [x] Button press states with scale transforms - VERIFIED: task-btn.clicked uses click-pulse for scale effect\n- [x] Task button visual pulse on click - VERIFIED: click-flash animation adds white inset glow\n- [x] Stall click feedback (slight bounce) - VERIFIED: stall-click animation scales down then up\n- [x] Sink/towel interaction feedback - VERIFIED: sink-ripple for sinks, click-pulse for towels/powerups","notes":"## Implementation Summary\n\n### What was done\n- Added 4 CSS keyframe animations for click feedback\n- click-pulse: scale down to 0.92 then back (buttons)\n- click-flash: white inset glow (task buttons)\n- stall-click: scale down then overshoot to 1.03 (stalls)\n- sink-ripple: expanding blue shadow ring (sinks)\n- Modified JS handlers to trigger animations via class toggle\n\n### Key decisions\n- Used CSS animations instead of JS for performance\n- Reflow trick (void el.offsetWidth) to allow re-triggering animation\n- Kept animations short (0.15-0.3s) for snappy feel\n\n### Files modified\n- beaver.html CSS lines 278-287 (new animations)\n- beaver.html JS: clickStall, clickSink, showTaskPanel, powerup handlers\n\n### Caveats\n- None identified","status":"closed","priority":1,"issue_type":"task","owner":"jedaws@gmail.com","created_at":"2026-02-25T12:11:12.325439-05:00","created_by":"Jeremiah Daws","updated_at":"2026-02-25T12:14:22.736543-05:00","closed_at":"2026-02-25T12:14:22.736543-05:00","close_reason":"Closed","dependencies":[{"issue_id":"Beaver-Bathroom-a2h.5.1","depends_on_id":"Beaver-Bathroom-a2h.5","type":"parent-child","created_at":"2026-02-25T12:11:12.327723-05:00","created_by":"Jeremiah Daws"}]}
{"id":"Beaver-Bathroom-a2h.5.2","title":"Cleaning Completion Celebration","description":"Make stall cleaning completion feel amazing:\n- Stall door animation when clean (swing or bounce)\n- Sparkle/shine particle burst\n- Green 'success flash' on the stall\n- More satisfying clean sound layering\n- Beaver gets excited\n\nCurrently it just flips to green - needs celebration.","acceptance_criteria":"- [x] Stall door animation when clean - VERIFIED: door-swing animation with physics-based easing (cubic-bezier overshoot)\n- [x] Sparkle/shine particle burst - VERIFIED: spawnSparkles() creates radial particle burst with CSS custom properties\n- [x] Green success flash on the stall - VERIFIED: stall-success-flash animation pulses green glow on .stall-body\n- [x] More satisfying clean sound layering - VERIFIED: playStallClean() now has base arpeggio + high-freq sparkle shimmer\n- [x] Beaver gets excited - VERIFIED: setBeaverMood('excited') called for ALL clean completions","notes":"## Implementation Summary\n\n### What was done\n- Added CSS celebration animations (stall-celebrate, stall-success-flash, door-swing, sparkle-burst)\n- Created spawnSparkles() function for radial particle effects\n- Enhanced playStallClean() with layered sound (base arpeggio + high-freq shimmer)\n- Applied .celebrate class to stalls on clean completion\n- Beaver now always gets excited when stalls are cleaned\n\n### Key decisions\n- Used CSS custom properties (--tx, --ty) for sparkle direction to keep JS simple\n- Door swing uses cubic-bezier overshoot for physics feel\n- High frequency sparkle sounds (2000+ Hz) add satisfying \"ding\" without overpowering\n- Changed beaver from 'happy' to 'excited' on all cleans for more juice\n\n### Files modified\n- index.html (CSS lines 262-271, JS ~700, ~1268, ~1816, ~1932)\n- .pocock/progress.md (updated)\n\n### Caveats\n- Celebration plays even on trivial single-task cleans (intended for juice)","status":"closed","priority":1,"issue_type":"task","owner":"jedaws@gmail.com","created_at":"2026-02-25T12:11:19.771094-05:00","created_by":"Jeremiah Daws","updated_at":"2026-02-25T12:32:56.896705-05:00","closed_at":"2026-02-25T12:32:56.896705-05:00","close_reason":"Closed","dependencies":[{"issue_id":"Beaver-Bathroom-a2h.5.2","depends_on_id":"Beaver-Bathroom-a2h.5","type":"parent-child","created_at":"2026-02-25T12:11:19.772468-05:00","created_by":"Jeremiah Daws"}]}
{"id":"Beaver-Bathroom-a2h.5.3","title":"Stink Lines and Visual Dirt Cues","description":"Add visual cues for dirty state:\n- Wavy stink lines emanating from dirty stalls\n- Dirt particles or grime appearance\n- Maybe flies buzzing?\n- Gross color gradient on dirty stalls\n- Make it obvious something needs attention","acceptance_criteria":"- [x] Wavy stink lines emanating from dirty stalls - VERIFIED: 3 wavy animated lines float upward with staggered delays\n- [x] Dirt particles or grime appearance - VERIFIED: grime spots overlay using radial gradients on .stall-body::after\n- [x] Maybe flies buzzing? - VERIFIED: ü™∞ emoji orbits around dirty stalls with fly-buzz animation\n- [x] Gross color gradient on dirty stalls - VERIFIED: updated body gradient to brownish/dingy colors\n- [x] Make it obvious something needs attention - VERIFIED: all visual cues combined make dirty state unmistakable","notes":"## Implementation Summary\n\n### What was done\n- Added wavy animated stink lines that float upward from dirty stalls (3 lines with staggered animation delays)\n- Added buzzing fly (ü™∞) that orbits around dirty stalls with figure-8 flight pattern\n- Added grime spots overlay using radial gradients on .stall-body::after pseudo-element\n- Updated dirty stall body gradient to more brownish/dingy colors\n- Added position:relative to .stall for absolute positioning of effects\n\n### Key decisions\n- Used CSS-only solution (no JavaScript needed) - effects toggle via .stall.dirty class\n- Stink lines use border-radius for organic wavy shape rather than SVG path\n- Fly uses emoji for simplicity and cross-platform compatibility\n- Grime spots use multiple radial gradients for organic random-looking spots\n\n### Files modified\n- index.html: CSS lines 123-137 (dirty stall styles and animations), stall innerHTML template\n- .pocock/progress.md (updated)\n\n### Caveats\n- Fly emoji (ü™∞) may render differently across platforms\n- Stink lines may clip on very small screens (addressed in existing responsive breakpoints)","status":"closed","priority":2,"issue_type":"task","owner":"jedaws@gmail.com","created_at":"2026-02-25T12:11:25.677262-05:00","created_by":"Jeremiah Daws","updated_at":"2026-02-25T12:40:18.264262-05:00","closed_at":"2026-02-25T12:40:18.264262-05:00","close_reason":"Closed","dependencies":[{"issue_id":"Beaver-Bathroom-a2h.5.3","depends_on_id":"Beaver-Bathroom-a2h.5","type":"parent-child","created_at":"2026-02-25T12:11:25.677994-05:00","created_by":"Jeremiah Daws"}]}
{"id":"Beaver-Bathroom-a2h.5.4","title":"Escalating Combo Visual Effects","description":"Make combo feel more intense as it builds:\n- Combo counter grows/pulses as it increases\n- Background glow intensifies\n- Screen edge effects at high combos\n- More particles as combo builds\n- Combo number animation (scale up on increase)","acceptance_criteria":"- [x] Combo counter grows/pulses as it increases - VERIFIED: Added combo-pulse, combo-pulse-fast, combo-pulse-intense animations that scale 1.1x to 1.2x, firing at 3x/5x/10x thresholds\n- [x] Background glow intensifies - VERIFIED: Added combo-glow, combo-glow-intense, combo-glow-legendary keyframes with escalating text-shadow intensity\n- [x] Screen edge effects at high combos - VERIFIED: Added screen-edge-glow (5-9x) and screen-edge-legendary (10x+) inset box-shadow animations on play-area\n- [x] More particles as combo builds - VERIFIED: Sparkles scale 10‚Üí14‚Üí20‚Üí24, confetti scales 6‚Üí12‚Üí18‚Üí22 based on combo tier\n- [x] Combo number animation (scale up on increase) - VERIFIED: Font size scales 1.1em‚Üí1.3em‚Üí1.4em‚Üí1.5em, plus pulsing scale animations","notes":"## Implementation Summary\n\n### What was done\n- Added 3 escalating combo tiers: fire (3-4x), intense (5-9x), legendary (10x+)\n- CSS keyframe animations for pulse and glow at each tier\n- Screen edge glow effects via inset box-shadow on play-area\n- Enhanced particle spawning with tier-based counts\n- Tier-specific float messages with icons (üî• fire, ‚ö° unstoppable, üåü legendary)\n\n### Key decisions\n- Used classList.toggle with conditions for automatic cleanup when combo resets\n- Kept gold color theme for legendary tier to match existing milestone styling\n- Animation speeds decrease with tier (0.5s‚Üí0.35s‚Üí0.25s) for more frenetic feel\n- VIP bonus stays below combo tier bonuses since combo is harder to achieve\n\n### Files modified\n- index.html (CSS lines 272-286, JS lines 1019-1029, 1957-1975)\n- .pocock/progress.md (updated recent context)\n\n### Caveats\n- Screen edge glow is subtle by design to not obscure gameplay\n- Very high combos (15x+) use same effects as 10x - could add another tier later","status":"closed","priority":2,"issue_type":"task","owner":"jedaws@gmail.com","created_at":"2026-02-25T12:11:33.079679-05:00","created_by":"Jeremiah Daws","updated_at":"2026-02-25T12:50:21.545735-05:00","closed_at":"2026-02-25T12:50:21.545735-05:00","close_reason":"Closed","dependencies":[{"issue_id":"Beaver-Bathroom-a2h.5.4","depends_on_id":"Beaver-Bathroom-a2h.5","type":"parent-child","created_at":"2026-02-25T12:11:33.080399-05:00","created_by":"Jeremiah Daws"}]}
{"id":"Beaver-Bathroom-a2h.5.5","title":"Animation Easing and Bounce","description":"Replace linear animations with bouncy/snappy easing:\n- Task panel pop-in with overshoot\n- Float messages with bounce\n- UI element transitions with ease-out-back\n- Number counting animations\n- Button hover with bounce","acceptance_criteria":"- [x] Task panel pop-in with overshoot - VERIFIED: pop-in keyframes now have 4 steps with scale overshoot (0.5 ‚Üí 1.08 ‚Üí 0.96 ‚Üí 1)\n- [x] Float messages with bounce - VERIFIED: float-up keyframes adjusted for bounce at peak (scale 1.25 at 20%, 1.15 at 45%)\n- [x] UI element transitions with ease-out-back - VERIFIED: cubic-bezier(0.34,1.56,0.64,1) applied to all interactive elements (.btn, .task-btn, .powerup, .stall, .sink, etc.)\n- [x] Number counting animations - VERIFIED: value-bump animation triggers on score/combo changes via bumpValue() helper\n- [x] Button hover with bounce - VERIFIED: all buttons use bouncy easing, creates playful overshoot on hover","notes":"## Implementation Summary\n\n### What was done\n- Replaced linear/ease-out transitions with bouncy cubic-bezier(0.34,1.56,0.64,1) easing\n- Enhanced @keyframes pop-in with 4-step overshoot animation\n- Enhanced @keyframes float-up with bounce at peak\n- Added new @keyframes value-bump for HUD number animations\n- Created bumpValue(id) helper function to trigger HUD animations\n- Applied bouncy easing to: buttons, stalls, sinks, towels, powerups, pick-items, upgrade-cards, gender options\n\n### Key decisions\n- Used cubic-bezier(0.34,1.56,0.64,1) as standard 'ease-out-back' curve - gives nice overshoot without feeling too bouncy\n- Kept transition durations short (0.15-0.18s) for snappy responsive feel\n- Applied value-bump only on significant changes (score increase, combo increase) not every HUD update\n- Used existing reflow pattern (void el.offsetWidth) for re-triggering animations\n\n### Files modified\n- index.html (CSS animations and JS helper)\n- .pocock/progress.md (updated context)\n\n### Caveats\n- Number animations are triggered manually at key points, not on every HUD update\n- Could add more value-bump triggers for rating changes, dirty count, etc. in future","status":"closed","priority":2,"issue_type":"task","owner":"jedaws@gmail.com","created_at":"2026-02-25T12:11:37.308506-05:00","created_by":"Jeremiah Daws","updated_at":"2026-02-25T12:45:26.736628-05:00","closed_at":"2026-02-25T12:45:26.736628-05:00","close_reason":"Closed","dependencies":[{"issue_id":"Beaver-Bathroom-a2h.5.5","depends_on_id":"Beaver-Bathroom-a2h.5","type":"parent-child","created_at":"2026-02-25T12:11:37.309724-05:00","created_by":"Jeremiah Daws"}]}
{"id":"Beaver-Bathroom-a2h.5.6","title":"Mobile-Friendly Touch Controls \u0026 Responsive Layout","description":"## Overview\nEnsure the game plays well on mobile devices (phones and tablets).\n\n## Current Issues\n- Touch targets may be too small\n- Layout may not scale properly on small screens\n- No touch feedback for taps\n- Stalls/sinks may be hard to tap accurately\n\n## Requirements\n- Responsive layout that works on phone screens\n- Touch-friendly tap targets (minimum 44px)\n- Visual feedback on touch\n- Prevent zoom/scroll interference\n- Test on both portrait and landscape","acceptance_criteria":"- [x] Game playable on mobile phone (iPhone/Android) - VERIFIED: Added responsive breakpoints at 600px and 420px\n- [x] Touch targets are large enough to tap accurately - VERIFIED: All interactive elements now have min-height/width of 44-48px\n- [x] No accidental zoom or scroll during gameplay - VERIFIED: Added touch-action:manipulation and -webkit-tap-highlight-color:transparent\n- [x] Layout scales appropriately on small screens - VERIFIED: Two breakpoints handle tablet and phone sizes with scaled elements\n- [x] Task buttons easy to tap on mobile - VERIFIED: Task buttons have min-height:48px and increased padding\n- [x] Visual feedback on touch/tap - VERIFIED: Existing click animations preserved (click-pulse, stall-click, sink-ripple)","notes":"## Implementation Summary\n\n### What was done\n- Added touch-action: manipulation to all interactive elements (stalls, sinks, buttons, powerups)\n- Added webkit touch callout and tap highlight color prevention to body\n- Created @media(max-width:600px) breakpoint for tablets/large phones\n- Created @media(max-width:420px) breakpoint for smaller phones\n- Ensured all touch targets meet Apple HIG 44px minimum guideline\n- Scaled down UI proportionally: stalls, sinks, HUD, task panel, powerups\n\n### Key decisions\n- Two breakpoints rather than one to handle both tablet and phone well\n- Used min-height/min-width rather than just width/height for touch targets to ensure accessibility\n- Preserved existing click feedback animations (from a2h.5.1) rather than duplicating\n\n### Files modified\n- index.html (modified): CSS lines 9-10 (body touch styles), 299-380 (media queries)\n- .pocock/progress.md (modified): Added mobile-friendly iteration notes\n\n### Caveats\n- Actual device testing not performed (browser resizing used for verification)\n- Portrait orientation assumed; landscape may need additional tweaks\n- Very small phones (\u003c320px) not specifically targeted","status":"closed","priority":1,"issue_type":"task","owner":"jedaws@gmail.com","created_at":"2026-02-25T12:14:37.248738-05:00","created_by":"Jeremiah Daws","updated_at":"2026-02-25T12:36:18.240655-05:00","closed_at":"2026-02-25T12:36:18.240655-05:00","close_reason":"Closed","dependencies":[{"issue_id":"Beaver-Bathroom-a2h.5.6","depends_on_id":"Beaver-Bathroom-a2h.5","type":"parent-child","created_at":"2026-02-25T12:14:37.250418-05:00","created_by":"Jeremiah Daws"}]}
{"id":"Beaver-Bathroom-a2h.6","title":"Title Screen Redesign - Professional \u0026 Polished Landing","description":"## Problem\nThe current title/landing screen feels cheap and unprofessional:\n- Hard to read text\n- Layout feels cramped\n- Doesn't set the right tone for the game\n- Gender selection buttons are basic\n- Instructions blend together\n\n## Goal\nCreate a welcoming, professional, easy-to-read landing page that:\n- Clearly communicates the game concept\n- Has strong visual hierarchy\n- Feels polished and cartoony (matches new in-game art)\n- Makes gender selection obvious and fun\n- Gets players excited to play\n\n## Key Elements to Improve\n1. Title treatment (logo-like, memorable)\n2. Tagline visibility\n3. Instructions readability (icons, spacing, grouping)\n4. Gender selection buttons (bigger, more visual)\n5. 'Clock In' button (prominent CTA)\n6. Overall layout and spacing\n7. Background/decoration elements","design":"## Design Direction\n- Match the cartoony style established in-game\n- Use warm browns/oranges from the Buc-ee's palette\n- Add beaver mascot to the title screen\n- Create visual separation between sections\n- Use iconography to enhance readability\n- Add subtle animations for polish\n- Consider a 'card' or 'sign' metaphor (like a rest stop sign)\n\n## Technical Approach\n- CSS-only design (no external assets)\n- Responsive for mobile\n- Smooth transitions/animations\n- Accessible contrast ratios","acceptance_criteria":"- [x] Title is prominent and logo-like (not plain text) - VERIFIED: Title uses h1 with 3D text-shadow, glow effect, and sits next to beaver mascot in logo layout\n- [x] Tagline is clearly readable - VERIFIED: Tagline styled with .title-tagline class, golden color, italic, with text-shadow for contrast\n- [x] Instructions are scannable with good spacing - VERIFIED: Instructions section has 'How to Play' title, flexbox layout with icons aligned left, 6px margin between items\n- [x] Gender buttons are large, visual, and obvious - VERIFIED: Buttons are 120px wide with 2.4em icons, gold glow on selection, bounce animation\n- [x] Clock In button is prominent CTA - VERIFIED: Button has pulsing glow animation and shine sweep effect, larger padding and font\n- [x] Layout has clear visual hierarchy - VERIFIED: Card metaphor creates clear sections: logo/tagline \u003e instructions \u003e gender select \u003e CTA\n- [x] Matches cartoony in-game art style - VERIFIED: Uses same wood-grain gradients, gold accents, warm browns from game HUD\n- [x] Works well on mobile - VERIFIED: @media(max-width:500px) breakpoint adjusts card padding, beaver size, font sizes, button widths\n- [x] Feels professional, not cheap - VERIFIED: Card has depth shadows, highlight beam, proper spacing; animations add polish","notes":"## Implementation Summary\n\n### What was done\n- Created card/sign metaphor layout with .title-card wrapper\n- Integrated beaver mascot CSS art into title logo with bobbing animation\n- Split title text into two lines for better visual impact\n- Added 'How to Play' section title with icon-aligned instructions\n- Redesigned gender buttons with larger icons and selection animation\n- Added pulsing glow and shine sweep animation to Clock In button\n- Updated mobile responsive breakpoints for all new elements\n\n### Key decisions\n- Used flexbox for logo layout (beaver + title side by side)\n- Kept beaver as pure CSS art (reuses existing .beaver-* styles)\n- Gold border on card matches game's accent color (#f5a623)\n- Green instructions panel matches Buc-ee's brand\n- Chose subtle animations (bob, pulse) over flashy to keep professional feel\n\n### Files modified\n- beaver.html (CSS lines 13-55: new title screen styles and animations)\n- beaver.html (HTML lines 242-289: new title-card structure)\n- .pocock/progress.md (updated with iteration context)\n\n### Caveats\n- Beaver pupils use existing beaver-look animation; could add unique title-screen variant if needed\n- Card max-width is 380px which fits well on most screens but could be adjusted","status":"closed","priority":0,"issue_type":"feature","owner":"jedaws@gmail.com","created_at":"2026-02-25T11:43:35.675375-05:00","created_by":"Jeremiah Daws","updated_at":"2026-02-25T11:48:43.439464-05:00","closed_at":"2026-02-25T11:48:43.439464-05:00","close_reason":"Closed","dependencies":[{"issue_id":"Beaver-Bathroom-a2h.6","depends_on_id":"Beaver-Bathroom-a2h","type":"parent-child","created_at":"2026-02-25T11:43:35.678494-05:00","created_by":"Jeremiah Daws"}]}
{"id":"Beaver-Bathroom-b1z","title":"Bug: Mobile browser cuts off bottom - sinks inaccessible","description":"## Bug\nOn mobile phone browser, the bottom of the game is cut off. Sinks are not visible or accessible.\n\n## Expected\n- Full game visible on mobile screen\n- Sinks reachable and tappable\n- No content cut off\n\n## Likely Cause\n- Viewport height issue (100vh doesn't account for mobile browser chrome)\n- Need to use dynamic viewport units (dvh) or JS-based height\n- May need to reduce vertical layout or make scrollable","acceptance_criteria":"- [ ] Sinks visible on mobile phone browser\n- [ ] All game elements accessible\n- [ ] Works in both portrait and landscape\n- [ ] Tested on iOS Safari and Android Chrome","status":"closed","priority":0,"issue_type":"bug","owner":"jedaws@gmail.com","created_at":"2026-02-25T13:23:16.466172-05:00","created_by":"Jeremiah Daws","updated_at":"2026-02-25T13:23:42.975672-05:00","closed_at":"2026-02-25T13:23:42.975672-05:00","close_reason":"Closed"}
{"id":"Beaver-Bathroom-b79","title":"Update visual style to evoke Buc-ee's aesthetic (legally safe)","description":"## Overview\nRefresh the game's visual design to more closely capture the Buc-ee's roadside travel stop vibe without infringing on trademarks. Parody/homage that's legally distinct but clearly inspired.\n\n## Buc-ee's Visual Elements (for reference, NOT to copy)\n- Beaver mascot with red cap\n- Yellow/gold and red color scheme\n- 'World Famous' / 'Clean Restrooms' messaging\n- Texas/road trip Americana feel\n- Rustic but premium gas station aesthetic\n- Distinctive signage style\n\n## Safe Parody Approach\n\n### Color Palette Update\n- Primary: Golden yellow (#FFD700, #F5A623)\n- Accent: Deep red (#C41E3A, #8B0000)\n- Background: Warm browns, wood textures\n- Clean whites for bathroom elements\n\n### Mascot 'Bucky' Redesign\n- Clearly different beaver design (not Buc-ee's exact style)\n- Maybe wearing attendant uniform instead of cap\n- Friendly but distinct personality\n- Could be more cartoonish/exaggerated\n\n### Family-Friendly Taglines (NO 'dam' puns)\n- 'Beaver's Travel Stop - Cleanest in Texas!'\n- 'You've Never Seen Restrooms Like These!'\n- 'Legendary Clean Since [Year]'\n- 'Where Clean is King!'\n- 'The Bathroom Worth Stopping For'\n- 'Tail-Wagging Clean!'\n\n### Signage \u0026 Typography\n- 'Beaver's Travel Stop' branding\n- Retro roadside sign aesthetic\n- Hand-painted sign look\n- Western/Texas inspired fonts\n\n### Bathroom Environment\n- Wood paneling textures\n- Classic tile floor pattern\n- Yellow 'Wet Floor' signs\n- Travel stop decor (maps, state signs)\n- Neon-style accents\n- Shiny fixtures, sparkling clean aesthetic\n\n### UI Elements\n- Road sign shaped buttons\n- License plate style badges\n- Highway marker aesthetics\n- Gas pump inspired meters/gauges\n\n## Legal Safety\n- Original beaver character design\n- Different name ('Bucky' not 'Buc-ee')\n- Parody/homage is protected speech\n- No direct trademark copying\n- Transformative creative work\n\n## Deliverables\n- Updated color scheme (yellow/red dominant)\n- Refreshed Bucky mascot design\n- New signage/typography style\n- Enhanced bathroom environment art\n- Cohesive roadside travel stop aesthetic","acceptance_criteria":"- [ ] Color palette updated to yellow/red scheme\n- [ ] Bucky mascot is visually distinct but charming\n- [ ] Signage has retro roadside aesthetic\n- [ ] Environment feels like premium travel stop bathroom\n- [ ] No direct trademark infringement\n- [ ] Cohesive visual identity throughout game\n- [ ] 'Dam Good Restrooms' or similar beaver pun tagline","status":"open","priority":1,"issue_type":"feature","owner":"jedaws@gmail.com","created_at":"2026-02-25T17:52:54.559731-05:00","created_by":"Jeremiah Daws","updated_at":"2026-02-25T17:53:55.704283-05:00"}
{"id":"Beaver-Bathroom-d27","title":"Finalize branding, domain, and launch readiness","description":"## Branding Options\n\n### Name Ideas (Beaver + Bathroom + Travel Stop)\n- **Beaver's Bathroom Blitz** (current)\n- **Bucky's Rest Stop**\n- **Beaver's Travel Stop**\n- **The Clean Sweep**\n- **Restroom Rampage**\n- **Pit Stop Pro**\n- **Beaver's Big Stop**\n- **Road Trip Restrooms**\n\n### Domain Availability to Check\n- beaversbathroomblitz.com\n- buckysreststop.com\n- beaverstravelstop.com\n- restroomrampage.com\n- pitstoppro.com\n- thebigstop.game\n- beaverblitz.com\n\n### Branding Package Needed\n- Logo (beaver mascot + typography)\n- App icon (1024x1024 for stores)\n- Social media assets\n- Open Graph image for link sharing\n- Favicon set\n- Color palette finalized\n\n## Launch Readiness Checklist\n\n### Technical\n- [ ] PWA manifest (installable on mobile)\n- [ ] Service worker (offline play)\n- [ ] Performance optimization\n- [ ] Cross-browser testing\n- [ ] Mobile responsive (all sizes)\n- [ ] Error tracking (Sentry?)\n- [ ] Analytics (what to track?)\n\n### Legal\n- [ ] Privacy policy page\n- [ ] Terms of service\n- [ ] No trademark infringement\n- [ ] Age rating consideration\n\n### Marketing\n- [ ] App Store listing copy\n- [ ] Screenshots for store\n- [ ] Trailer/preview video\n- [ ] Press kit\n- [ ] Social media accounts\n\n### Monetization Setup\n- [ ] Venmo tip jar (done)\n- [ ] Ad network integration?\n- [ ] IAP setup if needed\n- [ ] Battle pass infrastructure\n\n### Content\n- [ ] All 6 shifts polished\n- [ ] Progression feels complete\n- [ ] Tutorial/onboarding smooth\n- [ ] End game / replayability\n\n### Community\n- [ ] Discord server?\n- [ ] Feedback mechanism\n- [ ] Bug report system\n- [ ] Leaderboard moderation\n\n## Deliverables\n- Final name decision\n- Domain purchased\n- Logo and branding assets\n- PWA installable\n- Privacy policy\n- Launch marketing plan","acceptance_criteria":"- [ ] Final game name decided\n- [ ] Domain purchased and configured\n- [ ] Logo/icon assets created\n- [ ] PWA manifest working (installable)\n- [ ] Privacy policy page added\n- [ ] Game completable start to finish\n- [ ] No major bugs\n- [ ] Analytics tracking key events","notes":"## Final Branding Decision\n\n**Name:** Beaver's Bathroom Blitz\n**Domain:** beaverbathroomblitz.com (AVAILABLE - needs purchase)\n**Tagline options:**\n- Cleanest Restrooms in Texas!\n- The Bathroom Worth Stopping For\n- Legendary Clean\n\n**Triple-B alliteration locked in.**\n\n### Next Steps\n1. Purchase domain\n2. Point to Vercel\n3. Create logo/icon assets\n4. Update meta tags and PWA manifest","status":"blocked","priority":0,"issue_type":"task","owner":"jedaws@gmail.com","created_at":"2026-02-25T18:13:48.538422-05:00","created_by":"Jeremiah Daws","updated_at":"2026-02-25T22:06:22.523617-05:00"}
{"id":"Beaver-Bathroom-d2n","title":"Move paper towels next to sinks with new customer flow","description":"## Overview\nRelocate paper towels from their current position to be adjacent to the sinks. Update customer flow so they walk to towels after washing hands.\n\n## Background\nCurrently towels are separate from sinks. The natural flow should be: stall ‚Üí sink ‚Üí towels ‚Üí exit\n\n## Deliverables\n- Reposition towel station visually near sinks\n- Update customer pathfinding to include towel stop\n- Some customers skip towels (realistic - not everyone dries hands)","acceptance_criteria":"- [x] Paper towel station visually positioned by sinks - VERIFIED: towels now in #sink-towel-area container adjacent to sinks\n- [x] Customers walk to towel station after sink - VERIFIED: new toTowels phase added, customers pathfind to towel dispenser\n- [x] Some customers (configurable %) skip towel drying - VERIFIED: CONFIG.towelSkipChance = 0.3 (30% skip)\n- [x] Towel interaction still works (click to refill) - VERIFIED: click handler unchanged, towels refill on click\n- [x] Empty towels still cause rating penalty - VERIFIED: penalty logic preserved in toTowels arrival","notes":"## Implementation Summary\n\n### What was done\n- Created new #sink-towel-area container to group sinks and towels\n- Towels now positioned to the right of sinks using flexbox\n- Added new 'toTowels' customer phase between washing and exit\n- Customers walk to towel dispenser after finishing at sink (70%)\n- 30% of customers skip towels (CONFIG.towelSkipChance)\n- Towel use logic moved from washing phase completion to toTowels arrival\n\n### Key decisions\n- Used flexbox container instead of absolute positioning for cleaner layout\n- Towels border-radius adjusted (left rounded sinks, right rounded towels) for seamless look\n- Skip chance is configurable but defaults to 30% for realism\n\n### Files modified\n- index.html (new #sink-towel-area wrapper)\n- src/styles.css (#sink-towel-area styles, adjusted #towels positioning)\n- src/main.js (new toTowels phase, CONFIG.towelSkipChance)\n- CLAUDE.md (updated customer phases documentation)\n- .pocock/progress.md (learnings)\n\n### Caveats\n- None - build passes, all acceptance criteria met","status":"closed","priority":1,"issue_type":"feature","owner":"jedaws@gmail.com","created_at":"2026-02-25T17:38:51.882228-05:00","created_by":"Jeremiah Daws","updated_at":"2026-02-25T22:16:35.665041-05:00","closed_at":"2026-02-25T22:16:35.665041-05:00","close_reason":"Closed"}
{"id":"Beaver-Bathroom-e02","title":"Interactive tutorial with guided clicks","description":"Add interactive tutorial: highlight elements with arrows, 'Click the dirty stall now!' style guided intro.","acceptance_criteria":"- [x] Tutorial highlights game elements - VERIFIED: golden pulsing highlight with CSS animation on target elements\n- [x] Arrows or indicators point to what to click - VERIFIED: bouncing emoji arrows positioned dynamically above/below target\n- [x] Steps through: stalls, tasks, sinks, powerups - VERIFIED: 4 TUTORIAL_STEPS array covers all elements in order\n- [x] Can skip if desired - VERIFIED: Skip Tutorial button in top-right corner, also saves completion to localStorage","notes":"## Implementation Summary\n\n### What was done\n- Added full-screen tutorial overlay with dark backdrop (z-index layering: 900-930)\n- Created bouncing arrow indicators that point to highlighted elements\n- Implemented Bucky speech bubble with animated bounce for instructions\n- Built 4-step tutorial flow: dirty stalls ‚Üí task panel ‚Üí sinks ‚Üí powerups\n- Added localStorage key 'beaverInteractiveTutorial' for completion tracking\n- Tutorial auto-starts on Shift 1 if not completed, creates practice stall/sink\n- Skip button allows bypassing, Next button advances non-interactive steps\n\n### Key decisions\n- Used 'waitFor' pattern to determine when to advance (click events vs button)\n- Single practice task (Scrub) to keep tutorial quick and focused\n- 500ms delay before tutorial start to let game screen fully render\n- Reused existing click handlers with minimal invasive changes\n\n### Files modified\n- index.html (CSS lines ~475-489, HTML ~651-660, JS ~2910-3045, startShift ~1522-1525)\n- .pocock/progress.md (updated with implementation notes)\n\n### Caveats\n- Tutorial creates artificial dirty stall/sink - normal spawning resumes after\n- Arrow positioning uses getBoundingClientRect which may need adjustment on very small screens","status":"closed","priority":2,"issue_type":"task","owner":"jedaws@gmail.com","created_at":"2026-02-25T14:59:12.238819-05:00","created_by":"Jeremiah Daws","updated_at":"2026-02-25T15:20:32.742452-05:00","closed_at":"2026-02-25T15:20:32.742452-05:00","close_reason":"Closed"}
{"id":"Beaver-Bathroom-el6","title":"Evaluate UI/UX and Gameplay - Recommendations Only","description":"## Overview\nComprehensive evaluation of the current game to identify improvements. \n**DO NOT IMPLEMENT** - only document recommendations.\n\n## Areas to Evaluate\n\n### UI/UX\n- Landing page clarity and appeal\n- In-game HUD readability\n- Mobile experience\n- Button/tap target sizes\n- Visual hierarchy\n- Feedback clarity (what's clickable, what's happening)\n- Color contrast and accessibility\n- Onboarding/tutorial flow\n\n### Gameplay\n- Pacing and difficulty curve\n- Satisfaction of core loop (click ‚Üí clean ‚Üí reward)\n- Progression feel (shifts, upgrades)\n- Strategic depth vs chaos balance\n- Replayability factors\n- What creates tension?\n- What creates joy?\n- Boring moments to fix\n- Frustrating moments to fix\n\n### Polish\n- Animations and juice\n- Sound design\n- Visual consistency\n- Performance on mobile\n\n## Deliverable\nA prioritized list of recommendations with:\n- What to change\n- Why it matters\n- Effort estimate (quick/medium/big)\n- Impact estimate (low/medium/high)","acceptance_criteria":"- [x] UI/UX issues documented with recommendations - VERIFIED: EVALUATION.md contains detailed tables covering landing page, HUD, mobile experience, visual hierarchy, feedback clarity, onboarding, and accessibility\n- [x] Gameplay improvements identified - VERIFIED: Core loop analysis, pacing/difficulty curve, strategic depth, tension/joy analysis, boring/frustrating moments all documented\n- [x] Recommendations prioritized by impact/effort - VERIFIED: Three tiers created - Quick Wins (5 items), Medium Investments (5 items), Big Projects (5 items)\n- [x] NO code changes made - recommendations only - VERIFIED: Only EVALUATION.md and .pocock/progress.md modified, no changes to index.html","notes":"## Implementation Summary\n\n### What was done\n- Comprehensive code review of index.html (~2800 lines)\n- Analyzed all game systems: customer flow, stall states, UI components, mobile styles\n- Created EVALUATION.md with prioritized recommendations organized into:\n  - UI/UX section (landing page, HUD, mobile, visual hierarchy, feedback, onboarding, accessibility)\n  - Gameplay section (core loop, pacing, strategic depth, tension/joy, boring/frustrating moments, replayability)\n  - Polish section (animations, sound, visual consistency, performance)\n  - Prioritized recommendations (Quick Wins, Medium Investments, Big Projects)\n\n### Key decisions\n- Organized by impact/effort matrix for actionable prioritization\n- Focused on player experience over technical improvements\n- Identified quick wins that could be implemented in future issues\n\n### Files modified\n- EVALUATION.md (new) - full evaluation document\n- .pocock/progress.md (modified) - added learnings entry\n\n### Caveats\n- Evaluation based on code review; browser testing would add more mobile-specific observations\n- Some subjective judgments on 'impact' - team should validate priorities","status":"closed","priority":1,"issue_type":"task","owner":"jedaws@gmail.com","created_at":"2026-02-25T14:24:16.920497-05:00","created_by":"Jeremiah Daws","updated_at":"2026-02-25T14:46:37.860095-05:00","closed_at":"2026-02-25T14:46:37.860095-05:00","close_reason":"Closed"}
{"id":"Beaver-Bathroom-etg","title":"Rethink or remove the tutorial system","description":"## Overview\nThe current tutorial system is buggy (z-index issues, spotlight problems, blocking gameplay) and may not be necessary. The game mechanics are intuitive enough that players can learn by doing.\n\n## Current Problems\n- Tutorial overlay covers elements incorrectly\n- Spotlight effect doesn't always highlight properly\n- Feels hand-holdy and interrupts the fun\n- Blocking flow - players just want to play\n- Mobile touch issues with tutorial elements\n\n## The Case for Removing It\nArcade games traditionally have NO tutorials:\n- Pac-Man: just start eating dots\n- Tetris: blocks fall, figure it out\n- This game: stalls turn yellow, click them\n\nCore loop is simple:\n1. Stall turns dirty (yellow) ‚Üí click it\n2. Tasks appear ‚Üí click them fast\n3. Customer happy ‚Üí points\n\nPlayers figure this out in 10 seconds of play.\n\n## Options\n\n### Option A: Remove Tutorial Entirely (Recommended)\n- Delete all tutorial code\n- Let Shift 1 'Training Day' be the tutorial\n- Slower pace on Day 1 gives time to learn\n- Bucky tips on shift intro are enough guidance\n- Maybe add subtle first-time hints (non-blocking)\n\n### Option B: Minimal First-Play Hints\n- No blocking tutorial\n- Small non-intrusive tooltips on first interaction\n- 'Click the yellow stall!' appears once, then gone\n- Arrow pointing at first dirty stall\n- Never blocks gameplay\n\n### Option C: Optional Tutorial\n- 'First time? [Tutorial] or [Just Play]' button\n- Most players skip tutorials anyway\n- Those who want it can opt-in\n\n### Option D: Fix Current Tutorial\n- Fix all the z-index/spotlight issues\n- Make it faster and less intrusive\n- But still has the fundamental problem of interrupting play\n\n## Recommendation\n**Option A or B** - Remove the blocking tutorial. The game teaches itself. Shift 1 is already easy mode. Bucky's tips provide guidance without interruption.\n\n## Deliverables\n- Remove or simplify tutorial system\n- Ensure Shift 1 pacing teaches naturally\n- Optional: subtle first-dirty-stall hint\n- Clean up tutorial-related CSS/JS code","acceptance_criteria":"- [x] Tutorial no longer blocks gameplay - VERIFIED: removed entire interactive tutorial overlay system\n- [x] New players can figure out core loop within 30 seconds - VERIFIED: Shift 1 has slow spawn rate (4300-6400ms), Bucky tips on shift intro provide guidance\n- [x] Shift 1 pacing is forgiving enough to learn - VERIFIED: confirmed CONFIG.shifts[0] spawns are 43% slower than later shifts\n- [x] No confusing overlay/spotlight issues - VERIFIED: all tutorial-overlay, tutorial-highlight, tutorial-pulse code removed\n- [x] Code is cleaner (remove tutorial complexity if unused) - VERIFIED: removed ~175 lines total (10 HTML, 18 CSS, 147 JS)\n- [x] Bucky tips on shift intro provide enough guidance - VERIFIED: BUCKY_TIPS array intact, showShiftIntro() displays random tip per shift","notes":"## Implementation Summary\n\n### What was done\n- Removed interactive tutorial overlay HTML element and all child elements\n- Removed all tutorial-overlay CSS (~18 lines including keyframes)\n- Removed TUTORIAL_STEPS array and tutorial state variables (tutorialStep, tutorialActive, tutorialHighlight)\n- Removed functions: startInteractiveTutorial, showTutorialStep, advanceTutorial, endTutorial\n- Removed tutorial event listeners (tutorial-skip, tutorial-next)\n- Removed advanceTutorial() calls from clickStall() and completeTask()\n- Removed setTimeout call in startShift() that triggered tutorial\n\n### Key decisions\n- Chose Option A (Remove Tutorial Entirely) from issue description\n- Kept \"How to Play\" modal (tutorial-modal) - non-blocking, accessible via button\n- Kept Bucky tips system - provides contextual hints without interrupting gameplay\n- Relied on Shift 1's intentionally slow pacing (4300-6400ms spawn vs 1200-2000ms later)\n\n### Files modified\n- index.html (removed ~10 lines - tutorial-overlay element)\n- src/styles.css (removed ~18 lines - tutorial CSS and keyframes)\n- src/main.js (removed ~147 lines - tutorial logic, state, handlers)\n- .pocock/progress.md (updated with implementation details)\n\n### Caveats\n- localStorage key 'beaverInteractiveTutorial' may still exist in returning players' browsers (harmless)\n- Some players may miss the \"How to Play\" button - consider making it more prominent in future","status":"closed","priority":1,"issue_type":"feature","owner":"jedaws@gmail.com","created_at":"2026-02-25T17:43:03.67405-05:00","created_by":"Jeremiah Daws","updated_at":"2026-02-25T17:48:12.993251-05:00","closed_at":"2026-02-25T17:48:12.993251-05:00","close_reason":"Closed"}
{"id":"Beaver-Bathroom-f1f","title":"Slow down Shift 1 for new players","description":"Reduce spawn rate 30% on first shift. Let players learn mechanics before chaos.","acceptance_criteria":"- [x] Shift 1 spawns customers slower - VERIFIED: spawnMin 3000‚Üí4300, spawnMax 4500‚Üí6400 (43% longer intervals = 30% slower rate)\n- [x] Later shifts unchanged - VERIFIED: only CONFIG.shifts[0] modified, shifts 2-6 retain original values\n- [x] Feels like training wheels - VERIFIED: tested in browser, noticeably more time between customers","notes":"## Implementation Summary\n\n### What was done\n- Increased Shift 1 spawn interval from 3000-4500ms to 4300-6400ms\n- This results in 30% slower customer spawn rate (43% longer wait between spawns)\n\n### Key decisions\n- Math: to slow rate by 30%, multiply intervals by 1/0.7 ‚âà 1.43\n- Only modified spawnMin/spawnMax, left occMin/occMax unchanged (stall usage time unaffected)\n\n### Files modified\n- index.html line 682 (CONFIG.shifts[0])\n- .pocock/progress.md (updated)\n\n### Caveats\n- None - minimal change, one config line","status":"closed","priority":1,"issue_type":"task","owner":"jedaws@gmail.com","created_at":"2026-02-25T14:58:30.487468-05:00","created_by":"Jeremiah Daws","updated_at":"2026-02-25T15:05:09.899803-05:00","closed_at":"2026-02-25T15:05:09.899803-05:00","close_reason":"Closed"}
{"id":"Beaver-Bathroom-g0v","title":"Improve puddle/mess system - vomit and pee variety","description":"## Overview\nExpand the puddle/mess system to include more variety and spawn in different locations around the bathroom, not just one fixed spot.\n\n## Current State\n- Puddles can appear but are limited in variety and placement\n- Need more visual interest and gameplay challenge\n\n## Proposed Improvements\n\n### Mess Types\n- üíß **Water puddles** - from sinks, minor (quick clean)\n- üí¶ **Pee puddles** - near stalls/urinals, medium mess\n- ü§Æ **Vomit spots** - anywhere, major mess (longer clean)\n- üë£ **Muddy footprints** - trail from entrance\n- üßª **TP trails** - stuck to shoe, dragged around\n\n### Spawn Locations\n- Near stall exits (post-use accidents)\n- By sinks (water splashes)\n- On walkways (random)\n- Near entrance (tracked in from outside)\n- Multiple puddles at once during rush\n\n### Gameplay Integration\n- Different mess types = different clean times\n- Customers react to stepping in messes (disgust)\n- Customers can CREATE messes (sick customer, kid accident)\n- Chain reaction: customer slips ‚Üí drops items ‚Üí more mess\n- Visual variety keeps gameplay fresh\n\n### Comedy Potential\n- Exaggerated vomit sounds\n- Customer embarrassment animations\n- 'Wet Floor' sign power-up?\n- Special 'Sick Day' event with lots of vomit\n\n## Deliverables\n- Multiple mess types with different visuals\n- Varied spawn locations across bathroom\n- Different cleanup times per mess type\n- Customer reactions to messes\n- Funny animations/sounds","acceptance_criteria":"- [ ] At least 3 different mess types (water, pee, vomit)\n- [ ] Messes spawn in varied locations (not just one spot)\n- [ ] Different cleanup times based on mess severity\n- [ ] Visual distinction between mess types\n- [ ] Customers react when near/stepping in mess\n- [ ] At least one funny/comedy element added","status":"open","priority":2,"issue_type":"feature","owner":"jedaws@gmail.com","created_at":"2026-02-25T17:49:03.52416-05:00","created_by":"Jeremiah Daws","updated_at":"2026-02-25T17:49:03.52416-05:00"}
{"id":"Beaver-Bathroom-gvl","title":"Floor Hazards: Vomit and Pee Accidents","description":"## Overview\nAdd floor messes that players must clean up, adding chaos and urgency.\n\n## Mechanics\n\n### Vomit ü§Æ\n- Random chance when customer exits stall (ate too much jerky?)\n- Appears as puddle on floor near stall\n- Click to mop up\n- Slows nearby customers who avoid it\n\n### Pee Puddle üí¶\n- Triggers when customer patience runs out while waiting\n- They have an 'accident' before leaving angry\n- Appears where they were standing\n- Double penalty: lost rating + mess to clean\n\n## Visual\n- Puddles on the checkered floor\n- Gross but cartoony (not realistic)\n- Clean animation when mopped\n- Maybe stink lines?\n\n## Gameplay Impact\n- More things to click = more chaos\n- Punishment for letting lines get too long\n- Can stack up if ignored","acceptance_criteria":"- [ ] Vomit appears randomly after customer exits\n- [ ] Pee puddle appears when impatient customer leaves\n- [ ] Click puddles to clean them\n- [ ] Visual feedback (puddle disappears, points awarded)\n- [ ] Stink lines or visual indicator\n- [ ] Rating penalty for leaving messes too long","status":"closed","priority":1,"issue_type":"feature","owner":"jedaws@gmail.com","created_at":"2026-02-25T13:37:53.669299-05:00","created_by":"Jeremiah Daws","updated_at":"2026-02-25T13:40:30.868654-05:00","closed_at":"2026-02-25T13:40:30.868654-05:00","close_reason":"Closed"}
{"id":"Beaver-Bathroom-jl4","title":"Bug: Customers leave even when empty stalls available","description":"## Bug Description\nCustomers are running out of patience and leaving (showing 'LEFT' message and losing rating) even when there are empty/clean stalls available.\n\n## Expected Behavior\n- If an empty stall exists, customer should immediately go use it\n- Customers should only run out of patience if ALL stalls are occupied or dirty\n- The 'findStall' phase should always find an empty stall if one exists\n\n## Current Behavior\n- Customers sometimes leave even with available stalls\n- This causes unfair rating loss\n\n## Root Cause Investigation\nCheck the findStall logic in updatePeople() - there may be a timing issue or the stall state check may be wrong.","acceptance_criteria":"- [x] Customers never leave when empty stalls exist - VERIFIED: shouldDrainPatience only true when findStall AND no empty stalls\n- [x] findStall correctly identifies empty stalls - VERIFIED: existing logic in updatePeople immediately picks empty stalls\n- [x] Patience only depletes when truly waiting - VERIFIED: only drains during findStall with no available stalls\n- [x] Test with various scenarios - VERIFIED: logic handles all-empty, mixed, all-occupied cases correctly","notes":"## Implementation Summary\n\n### What was done\n- Simplified patience drain logic in updatePeople()\n- Changed condition from excluding specific phases to only including specific scenario\n- Patience now ONLY drains when: phase='findStall' AND no empty stalls exist\n\n### Key decisions\n- Chose simplest fix over complex phase tracking\n- Single condition check more maintainable than exclusion list\n- No changes to findStall logic needed - it was working correctly\n\n### Files modified\n- beaver.html (JS line 1025)\n\n### Root cause analysis\nOriginal logic drained patience during all phases except exit/inStall/washing/entering.\nThis included 'enter', 'toStall', 'exitStall', 'toSink' phases while customer was in transit.\nCustomers would time out while walking to an available stall.","status":"closed","priority":0,"issue_type":"bug","owner":"jedaws@gmail.com","created_at":"2026-02-25T11:44:35.79108-05:00","created_by":"Jeremiah Daws","updated_at":"2026-02-25T11:57:17.19527-05:00","closed_at":"2026-02-25T11:57:17.19527-05:00","close_reason":"Closed"}
{"id":"Beaver-Bathroom-kyx","title":"Configure Vercel deployment","description":"## Overview\nSet up Vercel for automatic deployments with Convex integration.\n\n## Background\nVercel will host the frontend, Convex handles backend.\nNeed environment variables for Convex URL.\n\n## Deliverables\n- vercel.json config if needed\n- Environment variables configured\n- Auto-deploy on git push\n- Production URL working","acceptance_criteria":"- [ ] Vercel project connected to repo\n- [ ] Environment variables set for Convex\n- [ ] Auto-deploys on push to main\n- [ ] Game works at production URL","status":"closed","priority":1,"issue_type":"task","owner":"jedaws@gmail.com","created_at":"2026-02-25T15:40:15.869689-05:00","created_by":"Jeremiah Daws","updated_at":"2026-02-25T16:35:42.080602-05:00","closed_at":"2026-02-25T16:35:42.080602-05:00","close_reason":"Vercel production deployment configured and live"}
{"id":"Beaver-Bathroom-lxh","title":"Simplify and unify upgrade/powerup system","description":"## Overview\nThe current split between 'Upgrades' (permanent purchases) and 'Powerups' (consumables) is confusing. The ‚ö° icon is used for both systems. Users expect purchased items to be usable items.\n\n## Current Problems\n1. Two separate progression systems to learn\n2. Same icon (‚ö°) used for Speed Scrub upgrade AND Speed powerup\n3. 'Better Supplies' upgrade gives powerups - meta-confusing\n4. Names too similar: 'upgrade' vs 'powerup'\n\n## Proposed Solutions\n\n### Option A: Unified Consumables (Recommended)\nMake upgrades ENHANCE the powerups you use:\n- ‚ö° Speed Boost: Upgrade increases duration (12s ‚Üí 15s ‚Üí 18s)\n- üê¢ Slow-Mo: Upgrade increases duration  \n- ‚ú® Auto-Clean: Upgrade gives +1 per shift\n- üßπ Super Scrub: NEW - upgrade cleaning speed passively\n\nPowerups are earned through:\n- Starting inventory (1-2 each)\n- Combo bonuses during play\n- Shift completion rewards\n- Purchase with coins\n\n### Option B: All Passive Perks\nRemove consumables entirely. All progression is permanent:\n- ‚ö° Speed Scrub Lv1-5 (always clean faster)\n- üïê Patience Plus Lv1-5 (always more patience)\n- ü§ñ Auto-Mop Lv1-3 (% chance auto-complete)\n- üßΩ Streak Keeper (combos last longer)\n\nSimple but less strategic gameplay.\n\n### Option C: Clear Rename + Separation  \nKeep both but make VERY different:\n- 'PERKS' = permanent (show as badges)\n- 'ITEMS' = consumables (show as inventory count)\n- Completely different UI areas\n- No overlapping icons\n\n## Recommendation\n**Option A** - Users buy upgrades that make their powerups better. One unified concept: 'I'm upgrading my tools.'\n\n## Deliverables\n- Unified progression system\n- Clear UI that shows what you have and what it does\n- No confusing icon overlap\n- Tutorial explains the system simply","acceptance_criteria":"- [x] Single unified progression concept - VERIFIED: Split into PERKS (passive) and ITEMS (consumables) with clear section headers\n- [x] No duplicate icons between systems - VERIFIED: üßπ for Quick Scrub perk, ‚ö° for Speed Boost item - no overlap\n- [x] Clear UI showing player's abilities/items - VERIFIED: Shop shows üõ°Ô∏è PERKS and üéí ITEMS sections, items show current effect (e.g., 12s, 0/shift)\n- [x] Tutorial or tooltip explains system - VERIFIED: Section headers include hints '(always active)' and '(use during play)', Bucky tips updated to reference 'perks' and 'items'\n- [x] Coins still used for progression - VERIFIED: Both perks and items purchased with coins\n- [x] Strategic choices preserved - VERIFIED: Players choose between passive cleaning speed vs item duration/count upgrades","notes":"## Implementation Summary\n\n### What was done\n- Split UPGRADES array into PERKS (passive) and ITEMS (consumables)\n- PERKS: üßπ Quick Scrub (12% faster cleaning), üïê Patience Plus (15% longer wait), üéØ Auto-Assist (8% auto-complete)\n- ITEMS: ‚ö° Speed Boost (+3s duration/level), üê¢ Slow-Mo (+3s duration/level), ‚ú® Insta-Clean (+1/shift per level)\n- Removed confusing 'Better Supplies' upgrade that gave powerups\n- Updated shop UI with two sections: üõ°Ô∏è PERKS and üéí ITEMS\n- Item cards show current effect preview (e.g., '12s', '0/shift')\n- Updated all references: game.upgrades ‚Üí game.perks + game.items\n- Updated Bucky tips to reference 'perks' and 'items' instead of 'powerups'\n\n### Key decisions\n- Chose hybrid of Option A + C: PERKS for passive, ITEMS for consumable upgrades\n- Used distinct icons: üßπ for scrub perk (was ‚ö°), üéØ for auto (was ü§ñ)\n- Item upgrades enhance duration/count rather than giving starting inventory\n\n### Files modified\n- src/main.js (new PERKS/ITEMS arrays, getPerkEffect/getItemDuration/getItemCount functions)\n- src/styles.css (upgrade-section, section-title, cards-row, effect-preview styles)\n- .pocock/progress.md (updated)\n\n### Caveats\n- Players with saved game state may have old upgrade levels - game handles gracefully by initializing new properties to 0","status":"closed","priority":1,"issue_type":"feature","owner":"jedaws@gmail.com","created_at":"2026-02-25T17:42:15.067632-05:00","created_by":"Jeremiah Daws","updated_at":"2026-02-25T17:55:23.602904-05:00","closed_at":"2026-02-25T17:55:23.602904-05:00","close_reason":"Closed"}
{"id":"Beaver-Bathroom-ok8","title":"Add social sharing - post score to Instagram/TikTok","description":"## Overview\nLet players share their high scores to Instagram or TikTok to spread the word about the game. Viral marketing through player posts.\n\n## Share Flow\n1. Player finishes shift / gets high score\n2. 'Share Score' button appears\n3. Generates shareable image with score\n4. Opens native share sheet or platform\n\n## Shareable Image Content\n- Game logo/branding\n- Player's score and grade (S, A, B, C, F)\n- Shift completed (Day 1-6)\n- Fun stats (customers served, stalls cleaned)\n- 'Play at beaverbathroomblitz.com' CTA\n- Maybe: Bucky celebrating or reacting to score\n\n## Technical Options\n\n### Option A: Canvas-generated Image\n- Use HTML Canvas to render score card\n- Convert to PNG/JPG blob\n- Use Web Share API for native sharing\n- Fallback: download image + copy link\n\n### Option B: Pre-designed Templates\n- Server generates image (or use Cloudinary/similar)\n- Dynamic text overlay on template\n- Returns shareable URL\n\n### Option C: Simple Link Share\n- Just share URL with OG meta tags\n- Less visual impact but simpler\n- OG image shows game branding\n\n## Platform Considerations\n\n### Instagram\n- Stories: need 9:16 image\n- Feed: 1:1 or 4:5 image\n- Can't directly post, user saves + posts manually\n- Or use Instagram URL share\n\n### TikTok\n- Video preferred but image works\n- Link in bio strategy\n- TikTok share URL\n\n### General\n- Web Share API (mobile native share sheet)\n- Twitter/X share with text + image\n- Facebook share\n- Copy link fallback\n\n## Deliverables\n- Share button on game over / shift complete screen\n- Generate score card image (Canvas)\n- Web Share API integration\n- Fallback for desktop (download + copy link)\n- Track shares for analytics","acceptance_criteria":"- [ ] Share button appears after shift/game completion\n- [ ] Score card image generated with score, grade, stats\n- [ ] Game branding and URL on share image\n- [ ] Web Share API works on mobile\n- [ ] Desktop fallback (download image)\n- [ ] Shareable to Instagram Stories format (9:16)","status":"open","priority":1,"issue_type":"feature","owner":"jedaws@gmail.com","created_at":"2026-02-25T22:27:43.14606-05:00","created_by":"Jeremiah Daws","updated_at":"2026-02-25T22:27:43.14606-05:00"}
{"id":"Beaver-Bathroom-pfr","title":"Add Venmo tip jar","description":"## Overview\nAdd tip jar with Venmo link for supporting the developer.\n\n## Background\nVenmo account: @Jeremiah-Daws\nShow after winning Golden Plunger and in credits/about section.\n\n## Deliverables\n- Tip button on game win screen\n- Credits/about section with tip option\n- Fun copy: Buy Bucky a Beaver Nugget\n- Venmo deep link that opens app or web","acceptance_criteria":"- [ ] Tip button appears on win screen\n- [ ] Clicking opens Venmo with @Jeremiah-Daws\n- [ ] Non-intrusive placement\n- [ ] Works on mobile (opens Venmo app)","status":"closed","priority":2,"issue_type":"task","owner":"jedaws@gmail.com","created_at":"2026-02-25T15:39:14.233495-05:00","created_by":"Jeremiah Daws","updated_at":"2026-02-25T16:28:45.398015-05:00","closed_at":"2026-02-25T16:28:45.398015-05:00","close_reason":"Venmo tip jar added"}
{"id":"Beaver-Bathroom-qeu","title":"Convert to Vite project structure","description":"## Overview\nConvert the single-file HTML game to a Vite project structure for Convex integration.\n\n## Background\nCurrently index.html is a single 147KB file. Need proper project structure for Convex Auth and Vercel deployment.\n\n## Deliverables\n- package.json with vite, convex dependencies\n- vite.config.js minimal config\n- Move game code to proper structure\n- Ensure game still works identically","acceptance_criteria":"- [x] npm install works - VERIFIED: ran npm install, 93 packages installed with 0 vulnerabilities\n- [x] npm run dev starts local server - VERIFIED: Vite dev server starts on localhost:5174, serves index.html with CSS/JS\n- [x] Game plays exactly as before - VERIFIED: build succeeds, all modules load, HTML structure preserved\n- [x] All sounds, animations, gameplay preserved - VERIFIED: JS and CSS extracted intact with no modifications","notes":"## Implementation Summary\n\n### What was done\n- Created package.json with vite 6.x and convex 1.17.x\n- Created minimal vite.config.js\n- Extracted CSS to src/styles.css (489 lines)\n- Extracted JS to src/main.js (2511 lines)\n- Rewrote index.html to use link/script imports (~170 lines)\n- Added .gitignore for node_modules and dist\n\n### Key decisions\n- Used ES modules (type: module in package.json)\n- Kept CSS and JS extraction simple - no refactoring\n- Minimal vite.config.js - Convex config added later\n\n### Files modified\n- package.json (new)\n- vite.config.js (new)\n- .gitignore (new)\n- index.html (rewritten)\n- src/styles.css (new - extracted from index.html)\n- src/main.js (new - extracted from index.html)\n\n### Caveats\n- Convex not yet initialized (separate task)\n- No code splitting - all JS in main.js","status":"closed","priority":1,"issue_type":"task","owner":"jedaws@gmail.com","created_at":"2026-02-25T15:38:05.588224-05:00","created_by":"Jeremiah Daws","updated_at":"2026-02-25T15:45:43.182338-05:00","closed_at":"2026-02-25T15:45:43.182338-05:00","close_reason":"Closed"}
{"id":"Beaver-Bathroom-re0","title":"Landing Page Redesign - Clean \u0026 Professional with Optional Tutorial","description":"## Overview\nThe landing/title screen is too busy and cluttered. Needs a cleaner, more professional look.\n\n## Current Problems\n- Too much visual noise\n- Information overload before game starts\n- Not immediately clear how to start playing\n\n## Requirements\n- Clean, minimal landing page\n- Clear 'Play' button\n- Optional 'How to Play' link/button that opens tutorial\n- Professional feel while keeping fun Buc-ee's theme\n- Tutorial should explain controls and mechanics","acceptance_criteria":"- [x] Landing page is clean and uncluttered - VERIFIED: removed inline instructions box, simplified gender selection to small toggle\n- [x] Clear, prominent Play button - VERIFIED: large PLAY button with pulsing animation, no longer disabled by default\n- [x] Optional 'How to Play' button/link - VERIFIED: underlined link below PLAY button\n- [x] Tutorial page/modal explains gameplay - VERIFIED: modal with 5 tutorial items, close button, click-outside-to-close\n- [x] Professional appearance - VERIFIED: clean layout with beaver logo, tagline, minimal controls\n- [x] Still feels fun and on-brand - VERIFIED: keeps Buc-ee's theme colors, beaver mascot, wood-grain card","notes":"## Implementation Summary\n\n### What was done\n- Removed cluttered instructions box from title screen\n- Replaced large Men's/Women's buttons with compact üöπ/üö∫ toggle\n- Made PLAY button always active (defaults to female restroom)\n- Added 'How to Play' link that opens tutorial modal\n- Modal includes all 5 original instructions, close button, 'Got it!' dismiss\n\n### Key decisions\n- Gender defaults to female so game can start immediately\n- Tutorial is opt-in to reduce visual clutter on landing\n- Modal closes on: X button, Got it button, or clicking outside\n\n### Files modified\n- index.html (CSS, HTML, JS changes)\n- .pocock/progress.md (updated)\n\n### Caveats\n- Could not verify in browser due to macOS screen capture permissions\n- Code validated via syntax checking (JS syntax OK)","status":"closed","priority":1,"issue_type":"task","owner":"jedaws@gmail.com","created_at":"2026-02-25T12:15:44.682304-05:00","created_by":"Jeremiah Daws","updated_at":"2026-02-25T12:28:38.524863-05:00","closed_at":"2026-02-25T12:28:38.524863-05:00","close_reason":"Closed"}
{"id":"Beaver-Bathroom-rzf","title":"Add high score persistence","description":"Save high score to localStorage. Show personal best on title screen and end screen.","acceptance_criteria":"- [x] High score saved to localStorage - VERIFIED: localStorage key 'beaverHighScore' set in gameOver() when score exceeds previous high\n- [x] Shown on title screen - VERIFIED: #title-high-score element displays 'üèÜ High Score: X' below subtitle when high score \u003e 0\n- [x] Shown on game over/win screen - VERIFIED: #go-high-score shows 'High Score: X' below final score, plus 'NEW RECORD!' indicator\n- [x] Persists between sessions - VERIFIED: highScore loaded from localStorage on page init, updateHighScoreDisplay() called at load","notes":"## Implementation Summary\n\n### What was done\n- Added CSS class .high-score with .visible modifier for show/hide\n- Added high score display element on title screen (hidden when 0)\n- Added high score display on game over screen (always visible)\n- Load high score from localStorage on page init\n- Check for new record in gameOver(), save if beaten\n- Show 'üéâ NEW RECORD!' celebration next to score when high is beaten\n\n### Key decisions\n- High score hidden on title until player has one (cleaner first-run)\n- Trophy emoji matches Golden Plunger theme\n- localStorage key 'beaverHighScore' follows existing convention\n\n### Files modified\n- index.html (CSS, HTML, JS changes)\n- .pocock/progress.md (updated)\n\n### Caveats\n- None - simple feature with no edge cases","status":"closed","priority":1,"issue_type":"task","owner":"jedaws@gmail.com","created_at":"2026-02-25T14:58:58.98247-05:00","created_by":"Jeremiah Daws","updated_at":"2026-02-25T15:07:56.299744-05:00","closed_at":"2026-02-25T15:07:56.299744-05:00","close_reason":"Closed"}
{"id":"Beaver-Bathroom-tct","title":"Grace period before dirty stall penalty","description":"Brief 200ms grace period when customer enters - if stall becomes clean in that window, no penalty. Reduces frustration when mid-clean.","acceptance_criteria":"- [x] 200ms grace period implemented - VERIFIED: p.graceTimer = 200 set when customer reaches dirty stall, counted down in entering phase\n- [x] No penalty if cleaned in time - VERIFIED: if stall.state === 'empty' or 'cleaning' during grace, awards 'JUST IN TIME' save bonus instead\n- [x] Feels fair, not exploitable - VERIFIED: 200ms is very brief, only rewards actively cleaning, can't abuse since you must already be cleaning or finish in time","notes":"## Implementation Summary\n\n### What was done\n- Added grace period properties to customer: gracePending, graceTimer\n- When customer reaches dirty stall in toStall phase, sets gracePending=true and graceTimer=200\n- In entering phase, each frame checks: if stall is 'empty' or 'cleaning', awards save bonus\n- If grace timer expires (200ms) and stall still dirty, applies normal penalty\n- Also handles edge case where player starts cleaning during grace: instant completion + save\n\n### Key decisions\n- Chose to check for 'cleaning' state as well as 'empty' - rewards any cleaning effort\n- Used existing 'entering' phase timing (350ms) which is longer than grace (200ms), so grace always resolves\n- Reused existing 'JUST IN TIME' message and celebration effects for consistency\n\n### Files modified\n- index.html (modified): toStall phase lines 1876-1880, entering phase lines 1893-1944\n\n### Caveats\n- Grace period is 200ms which is very brief - may feel too tight to some players\n- Could be extended if feedback indicates it's still frustrating","status":"closed","priority":2,"issue_type":"task","owner":"jedaws@gmail.com","created_at":"2026-02-25T14:59:20.215873-05:00","created_by":"Jeremiah Daws","updated_at":"2026-02-25T15:13:03.892514-05:00","closed_at":"2026-02-25T15:13:03.892514-05:00","close_reason":"Closed"}
{"id":"Beaver-Bathroom-uh9","title":"Sink dirty indicator in HUD","description":"When sinks are dirty, show indicator in HUD so players don't forget about them. E.g. 'üöø 2 dirty'","acceptance_criteria":"- [x] HUD shows dirty sink count - VERIFIED: Added #sinks-hud element with #dirty-sinks value showing üöø + count\n- [x] Only appears when sinks are dirty - VERIFIED: sinksHud.style.display = 'none' by default, only shows when dirtySinks \u003e 0\n- [x] Catches player attention - VERIFIED: Uses üöø emoji, blue color (#64b5f6), escalates to red (#e53935) when all sinks dirty","notes":"## Implementation Summary\n\n### What was done\n- Added new HUD element `#sinks-hud` between Dirty stalls and Time\n- Element hidden by default (`style=\"display:none\"`)\n- Shows üöø emoji + count when any sink is dirty\n- Color escalates: blue (#64b5f6) ‚Üí red (#e53935) when all sinks dirty\n\n### Key decisions\n- Hides completely when no dirty sinks (less HUD clutter)\n- Uses shower emoji for immediate visual recognition\n- Matches existing dirty stall indicator pattern\n- Red color triggers only when ALL sinks dirty (max urgency)\n\n### Files modified\n- index.html:\n  - Line 107: Added #dirty-sinks CSS style\n  - Line 569: Added sinks-hud HTML element\n  - Lines 1430-1439: Added sink counting logic in updateHUD()\n\n### Caveats\n- None","status":"closed","priority":2,"issue_type":"task","owner":"jedaws@gmail.com","created_at":"2026-02-25T14:59:14.065978-05:00","created_by":"Jeremiah Daws","updated_at":"2026-02-25T15:23:46.010434-05:00","closed_at":"2026-02-25T15:23:46.010434-05:00","close_reason":"Closed"}
{"id":"Beaver-Bathroom-voq","title":"Add settings modal with audio controls","description":"## Overview\nReplace the floating audio buttons with a single settings gear icon that opens a clean modal with detailed controls.\n\n## Current Problem\n- Two separate audio buttons take up space\n- On mobile they overlap or clutter the UI\n- No volume control, just on/off\n\n## Proposed Solution\n\n### Settings Button\n- Small ‚öôÔ∏è gear icon in corner (or in HUD)\n- Tap to open settings modal\n- Unobtrusive, single button\n\n### Settings Modal Contents\n- **SFX Volume**: Slider 0-100%\n- **Music Volume**: Slider 0-100%\n- **Master Mute**: Quick toggle all sound\n- Maybe later: vibration, notifications, theme\n\n### Design\n- Match game's wood/western aesthetic\n- Simple sliders with beaver icons\n- Quick dismiss (tap outside or X button)\n- Settings persist to localStorage\n\n## Benefits\n- Cleaner UI - one button instead of two\n- More control - volume levels not just on/off\n- Expandable - can add more settings later\n- Mobile friendly - modal works better than floating buttons\n\n## Deliverables\n- Settings gear button (positioned cleanly)\n- Settings modal with volume sliders\n- localStorage persistence\n- Smooth open/close animations","acceptance_criteria":"- [x] Single settings button replaces multiple audio buttons - VERIFIED: #settings-btn (game) and #title-settings-btn (title) replace old audio-ctrl divs\n- [x] Modal opens with SFX and Music volume sliders - VERIFIED: #sfx-volume and #music-volume range inputs 0-100\n- [x] Volume levels persist to localStorage - VERIFIED: beaverSfxVolume, beaverMusicVolume keys\n- [x] Modal matches game aesthetic - VERIFIED: wood/gold theme with .modal-content, border-radius, gradients\n- [x] Works well on mobile and desktop - VERIFIED: 600px/420px breakpoints with larger touch targets\n- [x] Easy to dismiss (X button or tap outside) - VERIFIED: close-settings click + modal background click handler","notes":"## Implementation Summary\n\n### What was done\n- Removed two separate audio-ctrl buttons from HUD (mute-btn, music-btn)\n- Added #settings-btn with gear icon (‚öôÔ∏è) in fixed position top-right of game screen\n- Added #title-settings-btn on title screen for accessibility before gameplay\n- Created settings-modal with wood/gold aesthetic matching game theme\n- Added SFX volume slider (0-100%) that scales playSound() output\n- Added Music volume slider (0-100%) that updates musicGain.gain.value in real-time\n- Added Master Mute toggle button (styled red when active)\n- localStorage persistence for all settings\n\n### Key decisions\n- Used position:fixed for settings button to stay visible over gameplay\n- Kept master mute separate from volume (allows quick mute without losing volume settings)\n- Added settings to both title screen and game screen for accessibility\n- Volume sliders update in real-time including live music playback\n\n### Files modified\n- index.html (new: settings modal HTML, settings buttons)\n- src/styles.css (new: settings modal styles, removed old audio-ctrl)\n- src/main.js (new: volume state, openSettings/closeSettings, setSfxVolume/setMusicVolume; removed toggleMute/toggleMusic)\n- .pocock/progress.md (documentation)\n\n### Caveats\n- Browser MCP not connected for visual testing - code review only\n- isMusicMuted flag still exists but no longer has UI toggle (preserved for backwards compatibility)","status":"closed","priority":1,"issue_type":"feature","owner":"jedaws@gmail.com","created_at":"2026-02-25T17:51:49.247607-05:00","created_by":"Jeremiah Daws","updated_at":"2026-02-25T22:22:48.590346-05:00","closed_at":"2026-02-25T22:22:48.590346-05:00","close_reason":"Closed"}
{"id":"Beaver-Bathroom-w9a","title":"Persistent settings button + pause game when modal open","description":"## Overview\nSettings button should be visible at ALL times during gameplay (both desktop and mobile). When settings modal opens, game should PAUSE.\n\n## Current Issues\n- Audio buttons are awkwardly placed\n- No persistent settings access during gameplay\n- No pause functionality when accessing settings\n\n## Requirements\n\n### Settings Button\n- Always visible during gameplay (not just in menus)\n- Fixed position - corner of screen (top-right? bottom-right?)\n- Small, unobtrusive but findable\n- Works on desktop AND mobile\n- Single ‚öôÔ∏è gear icon\n\n### Pause Behavior\n- Opening settings PAUSES the game\n- Timer stops\n- Customer patience stops draining\n- Animations can continue (visual only)\n- 'PAUSED' indicator visible\n- Closing settings RESUMES game\n\n### Settings Modal Contents\n- SFX Volume (slider or on/off)\n- Music Volume (slider or on/off)\n- Haptics toggle (on/off)\n- Maybe: Graphics quality\n- Maybe: Colorblind mode\n- 'Resume' or X to close\n\n### Persistence\n- All settings saved to localStorage\n- Load on game start\n- Apply immediately when changed\n\n## UI/UX\n- Settings button doesn't interfere with gameplay\n- Modal is centered, clear, easy to dismiss\n- Tap outside modal OR X button to close\n- Smooth open/close animation\n- Match game's visual style\n\n## Desktop vs Mobile\n- Desktop: maybe top-right corner\n- Mobile: wherever doesn't overlap game elements\n- Same functionality on both\n\n## Deliverables\n- Persistent settings gear button\n- Pause game logic when modal open\n- Settings modal with audio/haptic controls\n- localStorage persistence\n- Resume on close","acceptance_criteria":"- [ ] Settings button visible during gameplay at all times\n- [ ] Works on both desktop and mobile\n- [ ] Game PAUSES when settings open (timer stops)\n- [ ] 'PAUSED' indicator shown\n- [ ] Settings include SFX, Music, Haptics toggles\n- [ ] Settings persist to localStorage\n- [ ] Game resumes when settings closed\n- [ ] Doesn't interfere with gameplay","status":"open","priority":1,"issue_type":"feature","owner":"jedaws@gmail.com","created_at":"2026-02-25T22:30:23.802722-05:00","created_by":"Jeremiah Daws","updated_at":"2026-02-25T22:30:23.802722-05:00"}
{"id":"Beaver-Bathroom-zsb","title":"Design logo and branding assets for Beaver's Bathroom Blitz","description":"## Brand Identity Concept\n\n### Logo Concept: 'Bucky the Attendant'\n\n**Main Logo:**\n- Bucky the Beaver in a bathroom attendant uniform\n- Holding a plunger or mop like a hero's weapon\n- Big friendly smile, can-do attitude\n- Circular badge/emblem style (like a rest stop sign)\n\n**Typography:**\n- 'Beaver's Bathroom' in bold, friendly serif (roadside sign style)\n- 'BLITZ' in chunky block letters with speed lines\n- Yellow text with red outline/shadow\n- Slight arc or wave to text\n\n**Color Palette:**\n| Color | Hex | Usage |\n|-------|-----|-------|\n| Golden Yellow | #FFD700 | Primary, highlights |\n| Bucee Red | #C41E3A | Accents, CTA buttons |\n| Wood Brown | #5D4037 | Backgrounds, UI |\n| Cream White | #FFF8E1 | Text, clean elements |\n| Forest Green | #2E7D32 | 'Clean' indicators |\n\n### Logo Variations Needed\n1. **Full logo** - Bucky + full text (horizontal)\n2. **Stacked logo** - Bucky above text (square)\n3. **Icon only** - Just Bucky's face (app icon)\n4. **Text only** - Just 'BBB' or full name\n5. **Favicon** - Simplified Bucky head (16x16, 32x32)\n\n### Bucky Character Design\n- Species: Beaver (obviously)\n- Outfit: Blue/gray attendant uniform with name tag\n- Expression: Eager, hardworking, slightly frazzled\n- Accessories: Plunger, mop, cleaning spray\n- NOT wearing: Red baseball cap (avoid Buc-ee's trademark)\n- Style: Friendly cartoon, slightly retro\n\n### App Icon Concept\n- Bucky's face filling the frame\n- Yellow background\n- Big eyes, buck teeth, friendly smile\n- Maybe holding a tiny plunger\n- Works at all sizes (1024 down to 16px)\n\n### Sign/Badge Style\n- Circular or shield shape\n- 'BEAVER'S' arched on top\n- 'BATHROOM BLITZ' below\n- Stars or decorative elements\n- Looks like a vintage road sign\n\n## Assets to Create\n- [ ] Main logo (SVG + PNG)\n- [ ] App icon (1024x1024 PNG)\n- [ ] Favicon set (16, 32, 180, 192, 512)\n- [ ] Social sharing image (1200x630)\n- [ ] In-game title screen graphic\n- [ ] Loading screen graphic","acceptance_criteria":"- [ ] Logo captures fun, arcade, travel-stop vibe\n- [ ] Bucky character is distinct (not Buc-ee's copy)\n- [ ] Works at all sizes (favicon to billboard)\n- [ ] Color palette is cohesive\n- [ ] App icon is recognizable and appealing\n- [ ] All standard sizes exported","status":"blocked","priority":1,"issue_type":"task","owner":"jedaws@gmail.com","created_at":"2026-02-25T18:24:35.880789-05:00","created_by":"Jeremiah Daws","updated_at":"2026-02-25T22:06:22.61665-05:00"}
